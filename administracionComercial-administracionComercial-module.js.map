{"version":3,"sources":["webpack:///./src/app/routes/administracionComercial/accionesComerciales/accionesComerciales.component.html","webpack:///./src/app/routes/administracionComercial/accionesComerciales/accionesComerciales.component.scss","webpack:///./src/app/routes/administracionComercial/accionesComerciales/accionesComerciales.component.ts","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleBonificacionComercial/detalleBonificacionComercial.component.html","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleBonificacionComercial/detalleBonificacionComercial.component.scss","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleBonificacionComercial/detalleBonificacionComercial.component.ts","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleDescuentoComercial/detalleDescuentoComercial.component.html","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleDescuentoComercial/detalleDescuentoComercial.component.scss","webpack:///./src/app/routes/administracionComercial/accionesComerciales/detalleDescuentoComercial/detalleDescuentoComercial.component.ts","webpack:///./src/app/routes/administracionComercial/administracionComercial.module.ts","webpack:///./src/app/routes/administracionComercial/descuentosFuncionales/descuentosFuncionales.component.html","webpack:///./src/app/routes/administracionComercial/descuentosFuncionales/descuentosFuncionales.component.scss","webpack:///./src/app/routes/administracionComercial/descuentosFuncionales/descuentosFuncionales.component.ts","webpack:///./src/app/routes/administracionComercial/estructuraComercial/estructuraComercial.component.html","webpack:///./src/app/routes/administracionComercial/estructuraComercial/estructuraComercial.component.scss","webpack:///./src/app/routes/administracionComercial/estructuraComercial/estructuraComercial.component.ts","webpack:///./src/app/routes/administracionComercial/precios/precios.component.html","webpack:///./src/app/routes/administracionComercial/precios/precios.component.scss","webpack:///./src/app/routes/administracionComercial/precios/precios.component.ts"],"names":[],"mappings":"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","file":"administracionComercial-administracionComercial-module.js","sourcesContent":["module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Acciones Comerciales</h4>\\r\\n    </div>\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">N° Acción Comercial</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input appNaturalNumber formControlName=\\\"numAccionComercial\\\" name=\\\"numAccionComercial\\\" class=\\\"form-control\\\" type=\\\"number\\\" maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Tipo Acción</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <select class=\\\"form-control pv-0\\\" formControlName=\\\"tipoAccion\\\" name=\\\"tipoAccion\\\">\\r\\n                            <option *ngFor=\\\"let userTipoAccion of tipoAccion\\\" [ngValue]=\\\"userTipoAccion.codtipoAccion\\\">{{userTipoAccion.desctipoAccion}}</option>\\r\\n                      </select>\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Tipo Descuento</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <select class=\\\"form-control pv-0\\\" formControlName=\\\"tipoDescuento\\\" name=\\\"tipoDescuento\\\">\\r\\n                            <option value=\\\"\\\" selected>(Todos)</option>\\r\\n                            <option *ngFor=\\\"let userTipoDescuento of tipoDescuento\\\" [ngValue]=\\\"userTipoDescuento.par_codparametro01\\\">{{userTipoDescuento.par_deslargo01}}</option>\\r\\n                      </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Desde</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <input class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaDesde\\\" name=\\\"fechaDesde\\\" type=\\\"date\\\" (focusout)=\\\"actualizarFechaDesde()\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Hasta</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <input class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaHasta\\\" name=\\\"fechaHasta\\\" type=\\\"date\\\" (focusout)=\\\"actualizarFechaHasta()\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"row pull-left mb-4\\\">\\r\\n            <div class=\\\"col-sm-2 mr-3\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" (click)=\\\"buscar()\\\" type=\\\"button\\\">Buscar</button>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n                <a routerLink=\\\"/administracionComercial/detalleDescuentoComercial\\\" (click)=\\\"nuevoDescuento()\\\" class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\">Nuevo Descuento</a>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n                <a routerLink=\\\"/administracionComercial/detalleBonificacionComercial\\\" (click)=\\\"nuevaBonificacion()\\\" class=\\\"btn btn-oval btn-sm\\\">Nueva Bonificación</a>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-12\\\">\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n                    <table class=\\\"table table-hover\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>N° Acción</th>\\r\\n                                <th>Fecha Inicio</th>\\r\\n                                <th>Fecha Término</th>\\r\\n                                <th>Tipo</th>\\r\\n                                <th>Tipo Descuento</th>\\r\\n                                <th>Ver</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let accionComercial of accionesComerciales | paginate: {itemsPerPage: 7, currentPage: pageActual};\\\">\\r\\n                                <td>{{ accionComercial.aco_nidaccion }}</td>\\r\\n                                <td class=\\\"text-center\\\">{{ accionComercial.aco_dfhoinicio | fecha }}</td>\\r\\n                                <td class=\\\"text-center\\\">{{ accionComercial.aco_dfhotermino | fecha }}</td>\\r\\n                                <td>{{ accionComercial.aco_scodtipoaccion === 'DESCU' ? 'Descuento' : 'Bonificación' }}</td>\\r\\n                                <td>{{ accionComercial.sdestipodescuento }}</td>\\r\\n                                <td class=\\\"text-center\\\">\\r\\n                                    <span class=\\\"table-remove\\\">\\r\\n                                        <a class=\\\"text\\\" data-toggle=\\\"tooltip\\\" title=\\\"Ver Detalle\\\" (click)=\\\"editarAccionComercial(accionComercial)\\\">\\r\\n                                            <em class=\\\"fa fa-search\\\"></em>\\r\\n                                        </a>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                    <br>\\r\\n                    <div class=\\\"text-right\\\">\\r\\n                        <pagination-controls (pageChange)=\\\"pageActual = $event\\\" previousLabel=\\\"Anterior\\\" nextLabel=\\\"Siguiente\\\"></pagination-controls>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \".pad-3{padding-top:3px}\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AdministracionComercialService } from '../../../core/consultaService/administracionComercial.service';\r\nimport { UtilService } from '../../../services/util.service';\r\nimport { AuthService } from './../../../core/consultaService/auth.service';\r\n\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\nconst swal = require('sweetalert');\r\n\r\ndeclare var jQuery:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  selector: 'app-accionesComerciales',\r\n  templateUrl: './accionesComerciales.component.html',\r\n  styleUrls: ['./accionesComerciales.component.scss']\r\n})\r\nexport class AccionesComercialesComponent implements OnInit {\r\n\r\n  request: any = {};\r\n\r\n  accionesComerciales: Array <any> = [];\r\n\r\n  pageActual = 1;\r\n\r\n  forma: FormGroup;\r\n\r\n  tipoAccion: Array<any> = [\r\n    {\r\n      codtipoAccion: null,\r\n      desctipoAccion: '(Todos)' \r\n    },\r\n    {\r\n      codtipoAccion: 'BONIF',\r\n      desctipoAccion: 'Bonificación' \r\n    },\r\n    {\r\n      codtipoAccion: 'DESCU',\r\n      desctipoAccion: 'Descuento' \r\n    }\r\n  ];\r\n\r\n  tipoDescuento: any;\r\n  \r\n  fechaActual =  new Date();\r\n\r\n  editFechaDesde = false;\r\n\r\n  constructor(fb: FormBuilder, private utilService:UtilService, private administracionComercialService:AdministracionComercialService,\r\n              public cargador: NgxSpinnerService, private router:Router, private authService:AuthService) { \r\n    this.forma = new FormGroup ({\r\n      numAccionComercial: new FormControl(),\r\n      tipoAccion: new FormControl(),\r\n      tipoDescuento: new FormControl(''),\r\n      fechaDesde: new FormControl('' , Validators.required),\r\n      fechaHasta: new FormControl('', Validators.required)\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    console.log('forma', this.forma);\r\n\r\n    this.cargaCombos();\r\n\r\n    this.forma.controls.fechaDesde.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n    this.forma.controls.fechaHasta.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n\r\n  }\r\n\r\n  cargaCombos(){\r\n    this.tipoDescuento = this.authService.getParametrosTipoDescuento();\r\n  }\r\n\r\n  buscar(){\r\n    console.log(this.forma);\r\n\r\n    this.accionesComerciales = [];\r\n    \r\n    if(this.forma.valid){\r\n      if(this.forma.controls.numAccionComercial.value === null){\r\n        this.request.nIdAccionComercial = 0;\r\n      }else{\r\n        this.request.nIdAccionComercial = this.forma.controls.numAccionComercial.value;\r\n      }\r\n      \r\n      this.request.sCodTipoAccion = this.forma.controls.tipoAccion.value;\r\n      this.request.sCodTipoDscto = this.forma.controls.tipoDescuento.value;\r\n      this.request.sFechaInicioDesde = (this.forma.controls.fechaDesde.value).replace(/-/g, '');\r\n      this.request.sFechaTerminoHasta = (this.forma.controls.fechaHasta.value).replace(/-/g, '');\r\n\r\n      console.log('request', this.request);\r\n\r\n      this.cargador.show();\r\n\r\n      this.administracionComercialService.getAccionesComerciales(this.request)\r\n      .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          console.log('data', data);\r\n          \r\n          if(data.accionesComerciales){\r\n            console.log('existe data');\r\n            if(data.accionesComerciales.length == 0 && data.error.codError == 0 ){\r\n              swal('Atención', 'No se encontraron resultados', 'info');\r\n            }else{\r\n              this.accionesComerciales = data.accionesComerciales;\r\n            }\r\n          }  \r\n          \r\n          if(data.error.codError != 0){\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          }\r\n      },\r\n      error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  actualizarFechaDesde(){\r\n\r\n    if(this.forma.controls.fechaDesde.value === ''){\r\n      this.forma.controls.fechaDesde.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n    }\r\n\r\n    if(!this.utilService.DateValidator(this.forma.controls.fechaDesde.value)){\r\n      this.forma.controls.fechaDesde.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n    }\r\n  }\r\n\r\n  actualizarFechaHasta(){\r\n    if(this.forma.controls.fechaHasta.value === ''){\r\n      this.forma.controls.fechaHasta.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n    }\r\n\r\n    if(!this.utilService.DateValidator(this.forma.controls.fechaHasta.value)){\r\n      this.forma.controls.fechaHasta.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n    }\r\n  }\r\n\r\n  editarAccionComercial(accionComercial){\r\n    this.administracionComercialService.selectedAccionComercial  = Object.assign({}, accionComercial);\r\n    if(accionComercial.aco_scodtipoaccion === 'DESCU'){\r\n      this.router.navigate(['/administracionComercial/detalleDescuentoComercial']);\r\n    }else{\r\n      this.router.navigate(['/administracionComercial/detalleBonificacionComercial']);\r\n    }\r\n    \r\n  }\r\n\r\n  nuevoDescuento(){\r\n    this.administracionComercialService.selectedAccionComercial  = Object.assign({});\r\n  }\r\n\r\n  nuevaBonificacion(){\r\n    this.administracionComercialService.selectedAccionComercial  = Object.assign({});\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Acciones Comerciales<em class=\\\"fa fa-angle-right mh-2\\\"></em>Bonificación</h4>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Creación</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaCreacion\\\" name=\\\"fechaCreacion\\\" type=\\\"date\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Número</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"numero\\\" name=\\\"numero\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Tipo Estructura</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <select *ngIf=\\\"nuevaAccionComercial\\\" class=\\\"form-control pv-0\\\" formControlName=\\\"tipoEstructura\\\" name=\\\"tipoEstructura\\\" (change)=\\\"verModales()\\\">\\r\\n                                <option value=\\\"\\\">(Sin Selección)</option>\\r\\n                                <option *ngFor=\\\"let userTipo of tipoEstructura\\\" [ngValue]=\\\"userTipo.par_codparametro01\\\">{{userTipo.par_deslargo01}}</option>\\r\\n                        </select>\\r\\n                        <input style=\\\"display:none;\\\" formControlName=\\\"tipoEstructura\\\" name=\\\"TipoEstructura\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        <input *ngIf=\\\"!nuevaAccionComercial\\\" formControlName=\\\"desctipoEstructura\\\" name=\\\"descTipoEstructura\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Vigencia</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input #fechaVigencia class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaVigencia\\\" name=\\\"fechaVigencia\\\" type=\\\"date\\\" (focusout)=\\\"validarFechas(fechaVigencia)\\\" required />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Hora</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control pr-1 w-110 text-center\\\" formControlName=\\\"horaVigencia\\\" name=\\\"horaVigencia\\\" type=\\\"time\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Descripción</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <input formControlName=\\\"descripcion\\\" name=\\\"descripcion\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Término</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input #fechaTermino class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaTermino\\\" name=\\\"fechaTermino\\\" type=\\\"date\\\" (focusout)=\\\"validarFechas(fechaTermino)\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Hora</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control pr-1 w-110 text-center\\\" formControlName=\\\"horaTermino\\\" name=\\\"horaTermino\\\" type=\\\"time\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row pull-left mb-4\\\">\\r\\n                <div class=\\\"col-sm-3\\\">\\r\\n                    <a routerLink=\\\"/administracionComercial/accionesComerciales\\\" class=\\\"btn btn-oval btn-sm\\\">Volver</a>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-3 mr-2\\\">\\r\\n                    <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]=\\\"noVigente\\\" (click)=\\\"guardaBonificacion()\\\">Guardar</button>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-4\\\">\\r\\n                    <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]=\\\"inhabilitar || nuevaAccionComercial\\\" (click)=\\\"inhabilitarAccion()\\\">Inhabilitar</button>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <tabset>\\r\\n                            <tab>\\r\\n                                <ng-template tabHeading>Estructura Comercial Lineal</ng-template>\\r\\n                                <div>\\r\\n                                    <div class=\\\"form-group\\\">\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Fuerza de Venta</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codFuerzaVenta\\\" name=\\\"codFuerzaVenta\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"desFuerzaVenta\\\" name=\\\"desFuerzaVenta\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalFzaVta()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Operador</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codOperador\\\" name=\\\"codOperador\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descOperador\\\" name=\\\"descOperador\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalOperador()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label\\\">Zona</label>\\r\\n                                                <div class=\\\"col-sm-8 pl-0\\\">\\r\\n                                                    <input formControlName=\\\"codZona\\\" name=\\\"codZona\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descZona\\\" name=\\\"descZona\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('zona', 'Zonas')\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Territorio</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codTerritorio\\\" name=\\\"codTerritorio\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descTerritorio\\\" name=\\\"descTerritorio\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('territorioAC', 'Territorio')\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Cat. Negocio</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codCatNegocio\\\" name=\\\"codCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"desCatNegocio\\\" name=\\\"desCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalcatNegocio()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                       <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Cliente</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"rutCliente\\\" name=\\\"rutCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"dvRutCliente\\\" name=\\\"dvRutCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"nombreCliente\\\" name=\\\"nombreCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalCliente()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Cliente Local R/C</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codNumLocal\\\" name=\\\"codNumLocal\\\" class=\\\"form-control\\\" type=\\\"number\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"codClienteLocal\\\" name=\\\"codClienteLocal\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descClienteLocal\\\" name=\\\"descClienteLocal\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalClienteLocalRC()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"row pull-left mt-3 ml-0\\\">\\r\\n                                            <div class=\\\"col-sm-3 mr-3\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"agregar()\\\">Agregar</button>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"eliminar()\\\">Eliminar</button>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-3 pl-1\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"limpiar()\\\">Limpiar</button>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                    </div>\\r\\n                                    <div class=\\\"table\\\">\\r\\n                                        <table class=\\\"table table-bordered table-hover\\\">\\r\\n                                            <thead>\\r\\n                                                <tr>\\r\\n                                                    <th>\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckTitulo()\\\" [checked]=\\\"checkTituloSeleccionado\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </th>\\r\\n                                                    <th class=\\\"align-middle\\\">Fuerza Venta</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Operador</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Zona</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Territorio</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Categoría Negocio</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Cliente</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Cliente Local R/C</th>\\r\\n                                                </tr>\\r\\n                                            </thead>\\r\\n                                            <tbody>\\r\\n                                                <tr *ngFor=\\\"let estructura of estructurasAccionesComerciales\\\">\\r\\n                                                    <td>\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckEstructura(estructura)\\\" [checked]=\\\"estructura.bCheck\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </td>\\r\\n                                                    <td>{{ estructura.fvt_sdesfuerzavta === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.fvt_sdesfuerzavta }}</td>\\r\\n                                                    <td>{{ estructura.ope_snombre === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.ope_snombre }}</td>\\r\\n                                                    <td>{{ estructura.zon_sdeszona === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.zon_sdeszona }}</td>\\r\\n                                                    <td>{{ estructura.ter_sdesterritorio === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.ter_sdesterritorio }}</td>\\r\\n                                                    <td>{{ estructura.can_sdescatnegocio === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.can_sdescatnegocio }}</td>\\r\\n                                                    <td>{{ estructura.cli_snombre === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.cli_snombre }}</td>\\r\\n                                                    <td *ngIf=\\\"estructuraListado === 'LINEA'\\\">{{ estructura.rel_sdescripcionrelacioncomerc === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : 'Local ' + estructura.pea_nnumlocal + ' / ' + estructura.rel_sdescripcionrelacioncomerc }}</td>\\r\\n                                                    <td *ngIf=\\\"estructuraListado !== 'LINEA'\\\">{{ estructura.rel_sdescripcionrelacioncomerc }}</td>\\r\\n                                                </tr>\\r\\n                                            </tbody>\\r\\n                                        </table>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </tab>\\r\\n                            <tab>\\r\\n                                <ng-template tabHeading>Regla</ng-template>\\r\\n                                <div>\\r\\n                                    <div class=\\\"row pull-left mb-4\\\">\\r\\n                                        <div class=\\\"col-sm-3 mr-3\\\">\\r\\n                                            <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"eliminarJerarquia()\\\">Eliminar</button>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"table\\\">\\r\\n                                        <table class=\\\"table table-bordered table-hover jerarquiaProductos\\\">\\r\\n                                            <thead>\\r\\n                                                <tr>\\r\\n                                                    <th class=\\\"no-border-bottom\\\"></th>\\r\\n                                                    <th class=\\\"no-border-bottom\\\"></th>\\r\\n                                                    <th class=\\\"no-border-bottom\\\"></th>\\r\\n                                                    <th colspan=\\\"2\\\">Cantidad</th>\\r\\n                                                    <th class=\\\"no-border-bottom\\\"></th>\\r\\n                                                    <th class=\\\"no-border-bottom\\\"></th>\\r\\n                                                    <th colspan=\\\"2\\\">Cantidad</th>\\r\\n                                                </tr>\\r\\n                                                <tr>\\r\\n                                                    <th class=\\\"w-60\\\">\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1 w-40 pl-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                              <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckTituloJerarquia()\\\" [checked]=\\\"checkTituloJerarquiaSeleccionado\\\" />\\r\\n                                                              <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                          </label>\\r\\n                                                        </div>\\r\\n                                                    </th>\\r\\n                                                    <th class=\\\"align-middle\\\">Artículo</th>\\r\\n                                                    <th class=\\\"align-middle width-30-porc\\\">Descripción Artículo</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Unid. Venta</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Fracción</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Art.Bonificado</th>\\r\\n                                                    <th class=\\\"align-middle width-30-porc\\\">Descripción Artículo</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Unid. Venta</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Fracción</th>\\r\\n                                                </tr>\\r\\n                                            </thead>\\r\\n                                            <tbody>\\r\\n                                                <tr *ngFor=\\\"let articulo of articulosJerarquia\\\">\\r\\n                                                    <td class=\\\"pt-0\\\">\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckJerarquia(articulo)\\\" [checked]=\\\"articulo.bCheck\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"w-80\\\">{{articulo.sCodFormato}}-{{articulo.sCodVariedad}}</td>\\r\\n                                                    <td>{{articulo.sDescripcion}}</td>\\r\\n                                                    <td class=\\\"w-80 text-right\\\" *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad !== editRowID\\\">{{articulo.nCantidad | number:'':'es'}}</td>\\r\\n                                                    <td *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad === editRowID\\\">\\r\\n                                                        <input appNaturalNumber #cantidad type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" [(ngModel)]=\\\"articulo.nCantidad\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (keydown.Tab)=\\\"validaCantidad(cantidad)\\\" (focusout)=\\\"validaCantidad(cantidad)\\\" maxlength=\\\"10\\\"\\r\\n                                                            oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"w-80 text-right\\\" *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad !== editRowID\\\">{{articulo.nFraccion | number:'':'es'}}</td>\\r\\n                                                    <td *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad === editRowID\\\">\\r\\n                                                        <input appNaturalNumber #fraccion type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" [(ngModel)]=\\\"articulo.nFraccion\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (keydown.Tab)=\\\"validaCantidad(fraccion)\\\" (focusout)=\\\"validaFraccion(articulo, 1)\\\" maxlength=\\\"10\\\"\\r\\n                                                            oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"></td>\\r\\n                                                    <td class=\\\"w-80\\\">{{articulo.sCodFormatoBonificado}}-{{articulo.sCodVariedadBonificado}}</td>\\r\\n                                                    <td>{{articulo.sDescripcionBonificado}}</td>\\r\\n                                                    <td class=\\\"w-80 text-right\\\" *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad !== editRowID\\\">{{articulo.nCantidadBonificado | number:'':'es'}}</td>\\r\\n                                                    <td *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad === editRowID\\\">\\r\\n                                                        <input appNaturalNumber #cantidadBoni type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" [(ngModel)]=\\\"articulo.nCantidadBonificado\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (keydown.Tab)=\\\"validaCantidad(cantidadBoni)\\\" (focusout)=\\\"validaCantidad(cantidadBoni)\\\"\\r\\n                                                            maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"w-80 text-right\\\" *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad !== editRowID\\\">{{articulo.nFraccionBonificado | number:'':'es'}}</td>\\r\\n                                                    <td *ngIf=\\\"articulo.sCodFormato + '-' + articulo.sCodVariedad === editRowID\\\">\\r\\n                                                        <input appNaturalNumber #fraccionBoni type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" [(ngModel)]=\\\"articulo.nFraccionBonificado\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (keydown.Tab)=\\\"validaCantidad(fraccionBoni)\\\" (focusout)=\\\"validaFraccion(articulo, 2)\\\"\\r\\n                                                            maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td *ngIf=\\\"!noVigente\\\">\\r\\n                                                        <span *ngIf=\\\"!articulo.verOK\\\" class=\\\"table-remove\\\">\\r\\n                                                            <a class=\\\"text\\\" (click)=\\\"edit(articulo)\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Editar\\\">\\r\\n                                                                <em class=\\\"fa fa-edit\\\"></em>\\r\\n                                                            </a>\\r\\n                                                        </span>\\r\\n                                                        <span *ngIf=\\\"articulo.verOK\\\" class=\\\"table-remove\\\">\\r\\n                                                            <a class=\\\"text\\\"(click)=\\\"save(articulo)\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Guardar\\\">\\r\\n                                                                <em class=\\\"fa fa-check\\\"></em>\\r\\n                                                            </a>\\r\\n                                                        </span>\\r\\n                                                    </td>\\r\\n                                                </tr>\\r\\n                                                <tr>\\r\\n                                                    <td></td>\\r\\n                                                    <td class=\\\"w-100 align-top\\\">\\r\\n                                                        <input #articulo type=\\\"text\\\" [(ngModel)]=\\\"filterData\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control w-80\\\" (input)=\\\"setArticulo(articulo)\\\" (keydown.Tab)=\\\"validaArticulo(articulo,descripcion,cantidad)\\\" />\\r\\n                                                        <ul *ngIf=\\\"verListaArticulo\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filter:filterData\\\" (click)=\\\"seleccionaArticulo(data, articulo, descripcion, cantidad)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_scodformato}}-{{data.art_scodvariedad}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input #descripcion type=\\\"text\\\" [(ngModel)]=\\\"filterDesc\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control width-desc\\\" (input)=\\\"setDescripcion(descripcion)\\\" (keydown.Tab)=\\\"validaDescripcion(articulo,descripcion,cantidad)\\\" />\\r\\n                                                        <ul *ngIf=\\\"verListaDescripcion\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filterDesc:filterDesc\\\" (click)=\\\"seleccionaDescripcion(data, articulo, descripcion, cantidad)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_sdescripcion}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input appNaturalNumber #cantidad type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" (keydown.Tab)=\\\"validaCantidad(cantidad)\\\" maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input appNaturalNumber #fraccion type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" (keydown.Tab)=\\\"validaCantidad(fraccion)\\\" maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"w-100 align-top\\\">\\r\\n                                                        <input #articuloBoni type=\\\"text\\\" [(ngModel)]=\\\"filterDataB\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control w-80\\\" (input)=\\\"setArticuloBoni(articuloBoni)\\\" (keydown.Tab)=\\\"validaArticuloBoni(articuloBoni,descripcionBoni,cantidadBoni)\\\" />\\r\\n                                                        <ul *ngIf=\\\"verListaArticuloBoni\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filter:filterDataB\\\" (click)=\\\"seleccionaArticuloBoni(data, articuloBoni, descripcionBoni, cantidadBoni)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_scodformato}}-{{data.art_scodvariedad}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input #descripcionBoni type=\\\"text\\\" [(ngModel)]=\\\"filterDescB\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control width-desc\\\" (input)=\\\"setDescripcionBoni(descripcionBoni)\\\" (keydown.Tab)=\\\"validaDescripcionBoni(articuloBoni,descripcionBoni,cantidadBoni)\\\"\\r\\n                                                        />\\r\\n                                                        <ul *ngIf=\\\"verListaDescripcionBoni\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filterDesc:filterDescB\\\" (click)=\\\"seleccionaDescripcionBoni(data, articuloBoni, descripcionBoni, cantidadBoni)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_sdescripcion}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input appNaturalNumber #cantidadBoni type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" (keydown.Tab)=\\\"validaCantidad(cantidadBoni)\\\" maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input appNaturalNumber #fraccionBoni type=\\\"number\\\" class=\\\"form-control w-80 ph-1 text-right\\\" (keydown.Tab)=\\\"validaCantidad(fraccionBoni)\\\" (keyup.enter)=\\\"agregarRegla(articulo, descripcion, cantidad, fraccion, articuloBoni, descripcionBoni, cantidadBoni,fraccionBoni)\\\"\\r\\n                                                            maxlength=\\\"10\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\">\\r\\n                                                    </td>\\r\\n                                                </tr>\\r\\n                                            </tbody>\\r\\n                                        </table>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </tab>\\r\\n                        </tabset>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\"","module.exports = \".no-border-bottom{border-bottom:1px solid #85b3cd !important}.filter-list{list-style:none;max-height:200px;overflow-y:scroll}.width-30-porc{width:30% !important}\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { Router } from '@angular/router';\r\nimport { registerLocaleData, Time } from '@angular/common';\r\nimport es from '@angular/common/locales/es';\r\n\r\nimport { AdministracionComercialService } from '../../../../core/consultaService/administracionComercial.service';\r\nimport { UtilService } from '../../../../services/util.service';\r\nimport { ConsultasService } from './../../../../core/consultaService/consultas.service';\r\nimport { AuthService } from '../../../../core/consultaService/auth.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\nimport { BuscarArticuloPopUpComponent } from './../../../commonPopUp/buscarArticuloPopUp/buscarArticuloPopUp.component';\r\nimport { ClienteACPopUpComponent } from '../../../commonPopUp/clienteACPopUp/clienteACPopUp.component';\r\nimport { ClienteRelComercialPopUpComponent } from '../../../commonPopUp/clienteRelComercialPopUp/clienteRelComercialPopUp.component';\r\nimport { PedidosService } from '../../../../core/consultaService/pedidos.service';\r\n\r\nconst swal = require('sweetalert');\r\n\r\ndeclare var jQuery:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  selector: 'app-detalle-bonificacion-comercial',\r\n  templateUrl: './detalleBonificacionComercial.component.html',\r\n  styleUrls: ['./detalleBonificacionComercial.component.scss']\r\n})\r\nexport class DetalleBonificacionComercialComponent implements OnInit, OnDestroy {\r\n\r\n  forma: FormGroup;\r\n  subData: any;\r\n  fechaActual =  new Date();\r\n  parametrosAutocomplete: any;\r\n  nuevaAccionComercial = false;\r\n  tipo: any;\r\n  tipoEstructura: any;\r\n  request: any = {};\r\n  requestGrabar: any = {};\r\n  requestAutocomplete: any = {};\r\n  estructuraListado = '';\r\n  noVigente:boolean;\r\n  inhabilitar:boolean;\r\n  verModal = true;\r\n  estructurasAccionesComerciales: Array <any> = [];\r\n  estructurasAccionesComercialesRequest: Array <any> = [];\r\n  articulosJerarquia: Array <any> = [];\r\n  articulosJerarquiaRequest: Array <any> = [];\r\n  checkTituloSeleccionado = false;\r\n  checkEstructuraSeleccionada = false;\r\n  checkTituloJerarquiaSeleccionado = false;\r\n  checkJerarquiaSeleccionada = false;\r\n  combinatoriaValido = false;\r\n  origen = '';\r\n  bsModalRef: BsModalRef;\r\n  enUsoFzaVtas = false;\r\n  enOperador = false;\r\n  enCatNegocio = false;\r\n  enCliente = false;\r\n  puedeAgregar: boolean;\r\n  dataAutocomplete = [];\r\n  filterData = '';\r\n  filterDataB = '';\r\n  filterDesc = '';\r\n  filterDescB = '';\r\n  verListaArticulo: boolean;\r\n  verListaArticuloBoni: boolean;\r\n  verListaDescripcion: boolean;\r\n  verListaDescripcionBoni: boolean;\r\n  articuloRegla: boolean;\r\n  descripcionRegla: boolean;\r\n  articuloBoniRegla: boolean;\r\n  descripcionBoniRegla: boolean;\r\n  grabaEstructuras = false;\r\n  grabaEncabezado = false;\r\n  grabaJerarquias = false;\r\n  editRowID: any;\r\n  hidUnidadesVta1:number = 0;\r\n  hidUnidadesVta2:number = 0;\r\n\r\n  constructor(private administracionComercialService:AdministracionComercialService, private authService:AuthService, private utilService:UtilService,\r\n              private consultasService:ConsultasService, private modalService: BsModalService, public cargador: NgxSpinnerService,\r\n              private router:Router, private pedidosService: PedidosService) {\r\n    this.forma = new FormGroup ({\r\n      fechaCreacion: new FormControl('', Validators.required),\r\n      numero: new FormControl( '', Validators.required),\r\n      tipoEstructura: new FormControl('', Validators.required),\r\n      desctipoEstructura: new FormControl(''),\r\n      fechaVigencia: new FormControl( '', Validators.required),\r\n      horaVigencia: new FormControl( '', Validators.required),\r\n      descripcion: new FormControl( '', Validators.required),\r\n      fechaTermino: new FormControl( '', Validators.required),\r\n      horaTermino: new FormControl( '', Validators.required),\r\n      codFuerzaVenta: new FormControl( ''),\r\n      desFuerzaVenta: new FormControl({value:'', disabled:true}),\r\n      codOperador: new FormControl( ''),\r\n      descOperador: new FormControl({value:'', disabled:true}),\r\n      codZona: new FormControl( ''),\r\n      descZona: new FormControl({value:'', disabled:true}),\r\n      codTerritorio: new FormControl( ''),\r\n      descTerritorio: new FormControl({value:'', disabled:true}),\r\n      codCatNegocio: new FormControl( ''),\r\n      desCatNegocio: new FormControl({value:'', disabled:true}),\r\n      rutCliente: new FormControl( ''),\r\n      dvRutCliente: new FormControl( ''),\r\n      nombreCliente: new FormControl({value:'', disabled:true}),\r\n      codNumLocal: new FormControl( ''),\r\n      codClienteLocal: new FormControl( ''),\r\n      descClienteLocal: new FormControl({value:'', disabled:true}),\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  ngOnInit() {\r\n    \r\n    registerLocaleData( es );\r\n\r\n    this.parametrosAutocomplete = this.authService.getArticuloAutocomplete();\r\n\r\n    if(this.administracionComercialService.selectedAccionComercial.aco_nidaccion){\r\n      this.forma.controls.fechaCreacion.disable();\r\n      this.forma.controls.numero.disable();\r\n      this.forma.controls.desctipoEstructura.disable();\r\n      // this.forma.controls.tipo.disable();\r\n\r\n      this.cargarDatosAccionComercial();\r\n\r\n    }else{\r\n      console.log('nueva bonificacion');\r\n      this.nuevaAccionComercial = true;\r\n      this.forma.controls.fechaCreacion.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n      this.forma.controls.fechaCreacion.disable();\r\n      this.forma.controls.numero.disable();\r\n      this.cargaCombos();\r\n    }\r\n\r\n    this.subData = this.consultasService.datos$.subscribe(resData =>{\r\n      this.setData(resData);\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if(this.subData != undefined) {\r\n      this.subData.unsubscribe();\r\n    }\r\n  }\r\n\r\n  openModal(origen, titulo) {\r\n    this.origen = origen;\r\n    const initialState = {\r\n      titulo: titulo,\r\n      origen: origen,\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalFzaVta() {\r\n    this.origen = 'fuerzaVenta';\r\n    const initialState = {\r\n      titulo: 'Fuerza de Venta',\r\n      origen: 'fuerzaVenta',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enUsoFzaVtas){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalOperador() {\r\n    this.origen = 'operador';\r\n    const initialState = {\r\n      titulo: 'Operadores',\r\n      origen: 'operador',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enOperador){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalcatNegocio() {\r\n    this.origen = 'catNegocio';\r\n    const initialState = {\r\n      titulo: 'Categoría Negocio',\r\n      origen: 'catNegocio',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enCatNegocio){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalCliente() {\r\n    this.origen = 'cliente';\r\n    const initialState = {\r\n      titulo: 'Clientes',\r\n      origen: 'cliente',\r\n      formaCli: this.forma\r\n    };\r\n\r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enCliente){\r\n        this.bsModalRef = this.modalService.show(ClienteACPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(ClienteACPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }    \r\n  }\r\n\r\n  openModalClienteLocalRC(){\r\n    this.origen = 'clienteRC';\r\n    const initialState = {\r\n      titulo: 'Clientes / Relación Comercial',\r\n      origen: 'clienteRC',\r\n      formaCli: this.forma\r\n    };\r\n\r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido){\r\n        this.bsModalRef = this.modalService.show(ClienteRelComercialPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(ClienteRelComercialPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n    \r\n  }\r\n\r\n  validaCombinatoria(){\r\n    if(this.forma.controls.desFuerzaVenta.value === '' && this.forma.controls.descOperador.value === '' && this.forma.controls.desCatNegocio.value === '' && this.forma.controls.nombreCliente.value === '' ){\r\n      this.combinatoriaValido = true;\r\n    }\r\n    else{\r\n      this.combinatoriaValido = false;\r\n    }\r\n  }\r\n\r\n\r\n  cargarDatosAccionComercial(){\r\n    this.request.nIdAccionComercial = this.administracionComercialService.selectedAccionComercial.aco_nidaccion;\r\n    this.request.sCodTipoDescuento = '00000';\r\n\r\n        //carga encabezado Accion Comercial\r\n        this.administracionComercialService.getEncabezadoAccionComercial(this.request)\r\n        .subscribe((data:any)=>{\r\n            console.log('data encabezado', data);\r\n    \r\n            if(data.cargaEncabezadoAccionComercial){     \r\n              this.cargarEncabezadoEstructurasComerciales(data.cargaEncabezadoAccionComercial);\r\n              \r\n              //Validar Fecha Vigencia\r\n              this.validaVigencia(data.cargaEncabezadoAccionComercial);\r\n    \r\n              //Validar Inhabilitar\r\n              this.validaInhabilitar(data.cargaEncabezadoAccionComercial)\r\n    \r\n              this.verModales();\r\n            }\r\n                      \r\n            if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }\r\n        },\r\n        error =>{\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n\r\n        //Carga Estructura Acción Comercial\r\n        this.administracionComercialService.getEstructuraAccionComercial(this.request)\r\n        .subscribe((data:any)=>{\r\n            console.log('data estructura accion comercial', data);\r\n  \r\n            if(data.cargaEstructura){\r\n              this.cargarListadoEstructurasComerciales(data.cargaEstructura);\r\n            }\r\n                      \r\n            if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }\r\n        },\r\n        error =>{\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n\r\n        //Carga Bonificaciones Acción Comercial\r\n        this.administracionComercialService.getBonificacionesAccionComercial(this.request)\r\n        .subscribe((data:any)=>{\r\n            console.log('data bonificaciones', data);\r\n    \r\n            if(data.bonificaciones){\r\n              this.cargarListadoJerarquiasComerciales(data.bonificaciones);\r\n            }\r\n                      \r\n            if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }\r\n        },\r\n        error =>{\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n  }\r\n\r\n  cargaCombos(){\r\n    this.tipo = this.authService.getParametrosTipoDescuento();\r\n    this.tipoEstructura = this.authService.getParametrosTipoEstructura();\r\n  }\r\n\r\n  cargarEncabezadoEstructurasComerciales(data){\r\n    this.forma.controls.fechaCreacion.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhocreacion));\r\n    this.forma.controls.numero.setValue(data[0].aco_nidaccion);\r\n    this.forma.controls.tipoEstructura.setValue(data[0].aco_scodtipoestructura);\r\n    this.forma.controls.desctipoEstructura.setValue(data[0].sdestipoestructura);\r\n    this.forma.controls.fechaVigencia.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhoinicio));\r\n    this.forma.controls.horaVigencia.setValue(this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhoinicio));\r\n    this.forma.controls.descripcion.setValue(data[0].aco_sdescripcion);\r\n    this.forma.controls.fechaTermino.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino));\r\n    this.forma.controls.horaTermino.setValue(this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino));\r\n    // this.forma.controls.codTipo.setValue(data[0].aco_scodtipodescuento);\r\n    // this.forma.controls.tipo.setValue(data[0].sdestipodescuento);\r\n\r\n    this.estructuraListado = data[0].aco_scodtipoestructura;\r\n  }\r\n\r\n  cargarListadoEstructurasComerciales(data){\r\n    console.log('data en carga estrcuruas', data);\r\n    for(let i in data){\r\n      let estructura = {\r\n        bCheck: this.checkEstructuraSeleccionada,\r\n        pea_nidaccion: data[i].pea_nidaccion,\r\n        pea_scodtipodescuento: data[i].pea_scodtipodescuento,\r\n        pea_scodfuerzaventa: data[i].pea_scodfuerzaventa,\r\n        fvt_sdesfuerzavta: data[i].fvt_sdesfuerzavta,\r\n        pea_nrutoperador: data[i].pea_nrutoperador,\r\n        ope_snombre: data[i].ope_snombre,\r\n        pea_scodzona: data[i].pea_scodzona,\r\n        zon_sdeszona: data[i].zon_sdeszona,\r\n        pea_scodterritorio: data[i].pea_scodterritorio,\r\n        ter_sdesterritorio: data[i].ter_sdesterritorio,\r\n        pea_nrutcliente: data[i].pea_nrutcliente,\r\n        pea_nnumlocal: data[i].pea_nnumlocal,\r\n        pea_scodrelcomercial: data[i].pea_scodrelcomercial,\r\n        rel_sdescripcionrelacioncomerc: data[i].rel_sdescripcionrelacioncomerc,\r\n        cli_snombre: data[i].cli_snombre,\r\n        cli_sapepaterno: data[i].cli_sapepaterno,\r\n        cli_sapematerno: data[i].cli_sapematerno,\r\n        pea_scodcatnegocio: data[i].pea_scodcatnegocio,\r\n        can_sdescatnegocio: data[i].can_sdescatnegocio\r\n      }\r\n      this.estructurasAccionesComerciales.push(estructura);\r\n    }\r\n  }\r\n\r\n  cargarListadoJerarquiasComerciales(data){\r\n    console.log('data en carga bonificaciones', data);\r\n    for(let i in data){\r\n      let estructura = {\r\n        bCheck: false,\r\n        nCantidad: Math.floor(data[i].aba_ncantidad / data[i].nunidadventa),\r\n        nFraccion: Math.floor(data[i].aba_ncantidad % data[i].nunidadventa),\r\n        nCantidadBonificado: Math.floor(data[i].aba_ncantidadbonificado / data[i].nunidadventabonificado),\r\n        nFraccionBonificado: Math.floor(data[i].aba_ncantidadbonificado % data[i].nunidadventabonificado),\r\n        sCodFormato: data[i].aba_scodformato,\r\n        sCodFormatoBonificado: data[i].aba_scodformatobonificado,\r\n        sCodVariedad: data[i].aba_scodvariedad,\r\n        sCodVariedadBonificado: data[i].aba_scodvariedadbonificado,\r\n        sDescripcion: data[i].sdescripcion,\r\n        sDescripcionBonificado: data[i].sdescripcionbonificado,\r\n        verOK: false,\r\n        hidUnidadesVta1: data[i].nunidadventa,\r\n        hidUnidadesVta2: data[i].nunidadventabonificado\r\n      }\r\n      this.articulosJerarquia.push(estructura);\r\n    }\r\n\r\n    console.log('articulosJerarquia en carga jerarquias', this.articulosJerarquia);\r\n  }\r\n\r\n  validaVigencia(data){\r\n    this.noVigente = false;\r\n    console.log('data fecha hora',data);\r\n    let fechaTermino = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhoinicio)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhoinicio)}`);\r\n    let fechaInhabilitar = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino)}`);\r\n    console.log(fechaTermino);\r\n    console.log(this.fechaActual);\r\n    console.log(data[0].aco_scodestado);\r\n    \r\n    if(data[0].aco_scodestado === 'NOVIG'){\r\n      console.log('no vigente');\r\n      this.noVigente = true;\r\n    }else if(this.fechaActual > fechaTermino){\r\n      console.log('no vigente');\r\n      this.noVigente = true;\r\n    }\r\n\r\n    if(this.noVigente){\r\n      this.forma.controls.fechaVigencia.disable();\r\n      this.forma.controls.horaVigencia.disable();\r\n      this.forma.controls.descripcion.disable();\r\n      this.forma.controls.fechaTermino.disable();\r\n      this.forma.controls.horaTermino.disable();\r\n      // this.forma.controls.porcDescuento.disable();\r\n    }\r\n  }\r\n\r\n  validaInhabilitar(data){\r\n    //inhabilitar\r\n    this.inhabilitar = false;\r\n    console.log('data fecha hora',data);\r\n    let fechaInhabilitar = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino)}`);\r\n    console.log(fechaInhabilitar);\r\n    console.log(this.fechaActual);\r\n    console.log(data[0].aco_scodestado);\r\n    \r\n    if(data[0].aco_scodestado === 'NOVIG'){\r\n      console.log('inhabilitar');\r\n      this.inhabilitar = true;\r\n    }else if(this.fechaActual > fechaInhabilitar){\r\n      console.log('inhabilitar');\r\n      this.inhabilitar = true;\r\n    }\r\n  }\r\n\r\n  verModales(){\r\n    if(this.estructurasAccionesComerciales.length > 0 && (this.forma.controls.tipoEstructura.value === 'COMBI' || this.forma.controls.tipoEstructura.value === '' )){\r\n      this.forma.controls.tipoEstructura.setValue('LINEA');\r\n      swal('Atención', 'Debe Eliminar Estructura ingresada antes de cambiar el Tipo', 'info');\r\n    }else if(this.estructurasAccionesComerciales.length > 0 && (this.forma.controls.tipoEstructura.value === 'LINEA' || this.forma.controls.tipoEstructura.value === '')){\r\n      this.forma.controls.tipoEstructura.setValue('COMBI');\r\n      swal('Atención', 'Debe Eliminar Estructura ingresada antes de cambiar el Tipo', 'info');\r\n    }\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI'){\r\n      this.verModal = false;\r\n    }\r\n    else{\r\n      this.verModal = true;\r\n    }\r\n\r\n    this.limpiar();\r\n  }\r\n\r\n  validarFechas(fecha){\r\n    let dateValid = this.utilService.DateValidator(fecha.value);\r\n    if(!dateValid){\r\n      fecha.value = this.utilService.dateToStringFormat(this.fechaActual);\r\n    }\r\n  }\r\n\r\n  validaCheckTitulo(){\r\n    this.checkTituloSeleccionado = !this.checkTituloSeleccionado;\r\n    if(this.checkTituloSeleccionado){\r\n      console.log('realizar accion');\r\n\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        this.estructurasAccionesComerciales[i].bCheck = true;\r\n      }\r\n      \r\n    }else{\r\n      console.log('deshacer accion');\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        this.estructurasAccionesComerciales[i].bCheck = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validaCheckEstructura(estructura){\r\n    estructura.bCheck = !estructura.bCheck;\r\n    if(estructura.bCheck){\r\n      console.log('checkeado');\r\n    }else{\r\n      console.log('NO checkeado');\r\n    }\r\n  }\r\n\r\n  validaCheckTituloJerarquia(){\r\n    this.checkTituloJerarquiaSeleccionado = !this.checkTituloJerarquiaSeleccionado;\r\n    if(this.checkTituloJerarquiaSeleccionado){\r\n      console.log('realizar accion');\r\n\r\n      for(let i in this.articulosJerarquia){\r\n        this.articulosJerarquia[i].bCheck = true;\r\n      }\r\n      \r\n    }else{\r\n      console.log('deshacer accion');\r\n      for(let i in this.articulosJerarquia){\r\n        this.articulosJerarquia[i].bCheck = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validaCheckJerarquia(articulo){\r\n    articulo.bCheck = !articulo.bCheck;\r\n    if(articulo.bCheck){\r\n      console.log('checkeado');\r\n    }else{\r\n      console.log('NO checkeado');\r\n    }\r\n  }\r\n\r\n  agregar(){\r\n    this.puedeAgregar = false;\r\n    if(this.forma.controls.tipoEstructura.value === ''){\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }else if(this.forma.controls.tipoEstructura.value === 'COMBI' && !this.enUsoFzaVtas && !this.enOperador && !this.enCatNegocio && !this.enCliente){\r\n      swal('Atención', 'Debe seleccionar algun elemento de la estructura para agregar', 'info');\r\n    }else{\r\n      console.log('agregar estructura al listado');\r\n      if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n        this.estructuraListado = 'LINEA';\r\n        let objeto = \r\n        {\r\n          bCheck:false,\r\n          pea_scodfuerzaventa: this.forma.controls.codFuerzaVenta.value,\r\n          fvt_sdesfuerzavta: this.forma.controls.desFuerzaVenta.value === '' ? ' ' : this.forma.controls.desFuerzaVenta.value,\r\n          pea_nrutoperador: this.forma.controls.codOperador.value === '' ? 0 : this.forma.controls.codOperador.value,\r\n          ope_snombre: this.forma.controls.descOperador.value === '' ? ' ' : this.forma.controls.descOperador.value,\r\n          pea_scodzona: this.forma.controls.codZona.value,\r\n          zon_sdeszona: this.forma.controls.descZona.value === '' ? ' ' : this.forma.controls.descZona.value,\r\n          pea_scodterritorio: this.forma.controls.codTerritorio.value,\r\n          ter_sdesterritorio: this.forma.controls.descTerritorio.value === '' ? ' ' : this.forma.controls.descTerritorio.value,\r\n          pea_scodcatnegocio: this.forma.controls.codCatNegocio.value,\r\n          can_sdescatnegocio: this.forma.controls.desCatNegocio.value === '' ? ' ' : this.forma.controls.desCatNegocio.value,\r\n          pea_nrutcliente: this.forma.controls.rutCliente.value === '' ? 0 : this.forma.controls.rutCliente.value,\r\n          cli_snombre: this.forma.controls.nombreCliente.value === '' ? ' ' : this.forma.controls.nombreCliente.value,\r\n          pea_nnumlocal: this.forma.controls.codNumLocal.value === '' ? 0 : this.forma.controls.codNumLocal.value,\r\n          pea_scodrelcomercial: this.forma.controls.codClienteLocal.value,\r\n          rel_sdescripcionrelacioncomerc : this.forma.controls.descClienteLocal.value === '' ? ' ' : this.forma.controls.descClienteLocal.value\r\n        }\r\n        //comparar objetos\r\n        this.comparaObjetos(this.estructurasAccionesComerciales, objeto);\r\n\r\n      }else{\r\n        this.estructuraListado = 'COMBI';\r\n        let objeto = \r\n        {\r\n          bCheck:false,\r\n          pea_scodfuerzaventa: this.forma.controls.codFuerzaVenta.value,\r\n          fvt_sdesfuerzavta: this.forma.controls.desFuerzaVenta.value,\r\n          pea_nrutoperador: this.forma.controls.codOperador.value === '' ? 0 : this.forma.controls.codOperador.value,\r\n          ope_snombre: this.forma.controls.descOperador.value,\r\n          pea_scodzona: this.forma.controls.codZona.value,\r\n          zon_sdeszona: this.forma.controls.descZona.value,\r\n          pea_scodterritorio: this.forma.controls.codTerritorio.value,\r\n          ter_sdesterritorio: this.forma.controls.descTerritorio.value,\r\n          pea_scodcatnegocio: this.forma.controls.codCatNegocio.value,\r\n          can_sdescatnegocio: this.forma.controls.desCatNegocio.value,\r\n          pea_nrutcliente: this.forma.controls.rutCliente.value === '' ? 0 : this.forma.controls.rutCliente.value,\r\n          cli_snombre: this.forma.controls.nombreCliente.value,\r\n          pea_nnumlocal: this.forma.controls.codNumLocal.value === '' ? 0 : this.forma.controls.codNumLocal.value,\r\n          pea_scodrelcomercial: this.forma.controls.codClienteLocal.value,\r\n          rel_sdescripcionrelacioncomerc : this.forma.controls.descClienteLocal.value\r\n        }\r\n        //comparar objetos\r\n        this.comparaObjetos(this.estructurasAccionesComerciales, objeto);\r\n      }\r\n     \r\n      this.limpiar();\r\n    }\r\n  }\r\n\r\n  comparaObjetos(estructurasAccionesComerciales, objeto){\r\n    if(estructurasAccionesComerciales.length > 0){\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        if(this.estructurasAccionesComerciales[i].fvt_sdesfuerzavta.trim() === objeto.fvt_sdesfuerzavta.trim() && this.estructurasAccionesComerciales[i].ope_snombre.trim() === objeto.ope_snombre.trim() &&\r\n          this.estructurasAccionesComerciales[i].zon_sdeszona.trim() === objeto.zon_sdeszona.trim() && this.estructurasAccionesComerciales[i].ter_sdesterritorio.trim() === objeto.ter_sdesterritorio.trim() &&\r\n          this.estructurasAccionesComerciales[i].can_sdescatnegocio.trim() === objeto.can_sdescatnegocio.trim() && this.estructurasAccionesComerciales[i].cli_snombre.trim() === objeto.cli_snombre.trim() &&\r\n          this.estructurasAccionesComerciales[i].rel_sdescripcionrelacioncomerc.trim() === objeto.rel_sdescripcionrelacioncomerc.trim() ){\r\n          swal('Atención', 'Ya existe una regla idéntica a la solicitada', 'warning');\r\n          this.puedeAgregar = false;\r\n          break;\r\n        }else{\r\n          this.puedeAgregar = true;\r\n        }\r\n      }\r\n      if(this.puedeAgregar){\r\n        this.estructurasAccionesComerciales.push(objeto);\r\n      }\r\n    }else{\r\n      this.estructurasAccionesComerciales.push(objeto);\r\n    }\r\n  }\r\n\r\n  eliminar(){\r\n    if(this.estructurasAccionesComerciales.length > 0){\r\n        swal({\r\n          title: 'Atención',\r\n          text: '¿Desea eliminar los productos seleccionados?',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#85b3cd',\r\n          confirmButtonText: 'Aceptar',\r\n          cancelButtonText: 'Cancelar',\r\n          closeOnConfirm: true\r\n        }, () => {\r\n          let j = this.estructurasAccionesComerciales.length;\r\n          for(let i=0; i<j; i++){\r\n            if(this.estructurasAccionesComerciales[i].bCheck === true){\r\n              this.estructurasAccionesComerciales.splice(this.estructurasAccionesComerciales.indexOf(this.estructurasAccionesComerciales[i]), 1);\r\n              i--;\r\n              j--;\r\n            }\r\n          }\r\n          this.checkTituloSeleccionado = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  eliminarJerarquia(){\r\n    if(this.articulosJerarquia.length > 0){\r\n        swal({\r\n          title: 'Atención',\r\n          text: '¿Desea eliminar los artículos seleccionados?',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#85b3cd',\r\n          confirmButtonText: 'Aceptar',\r\n          cancelButtonText: 'Cancelar',\r\n          closeOnConfirm: true\r\n        }, () => {\r\n          let j = this.articulosJerarquia.length;\r\n          for(let i=0; i<j; i++){\r\n            if(this.articulosJerarquia[i].bCheck === true){\r\n              this.articulosJerarquia.splice(this.articulosJerarquia.indexOf(this.articulosJerarquia[i]), 1);\r\n              i--;\r\n              j--;\r\n            }\r\n          }\r\n          this.checkTituloJerarquiaSeleccionado = false;\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n  limpiar(){\r\n    this.forma.controls.codFuerzaVenta.setValue('');\r\n    this.forma.controls.desFuerzaVenta.setValue('');\r\n    this.forma.controls.codOperador.setValue('');\r\n    this.forma.controls.descOperador.setValue('');\r\n    this.forma.controls.codZona.setValue('');\r\n    this.forma.controls.descZona.setValue('');\r\n    this.forma.controls.codTerritorio.setValue('');\r\n    this.forma.controls.descTerritorio.setValue('');\r\n    this.forma.controls.codCatNegocio.setValue('');\r\n    this.forma.controls.desCatNegocio.setValue('');\r\n    this.forma.controls.rutCliente.setValue('');\r\n    this.forma.controls.nombreCliente.setValue('');\r\n    this.forma.controls.codClienteLocal.setValue('');\r\n    this.forma.controls.descClienteLocal.setValue('');\r\n    this.enUsoFzaVtas = false;\r\n    this.enOperador = false; \r\n    this.enCatNegocio = false; \r\n    this.enCliente = false; \r\n  }\r\n\r\n  setArticulo(articulo){\r\n    if(articulo.value === ''){\r\n      this.verListaArticulo = false;\r\n    }\r\n    else{\r\n      this.verListaArticulo = true;\r\n    }\r\n  }\r\n\r\n  setArticuloBoni(articuloBoni){\r\n    if(articuloBoni.value === ''){\r\n      this.verListaArticuloBoni = false;\r\n    }\r\n    else{\r\n      this.verListaArticuloBoni = true;\r\n    }\r\n  }\r\n\r\n  setDescripcion(descripcion){\r\n    if(descripcion.value === ''){\r\n      this.verListaDescripcion = false;\r\n    }\r\n    else{\r\n      this.verListaDescripcion = true;\r\n    }\r\n  }\r\n\r\n  setDescripcionBoni(descripcionBoni){\r\n    if(descripcionBoni.value === ''){\r\n      this.verListaDescripcionBoni = false;\r\n    }\r\n    else{\r\n      this.verListaDescripcionBoni = true;\r\n    }\r\n  }\r\n\r\n  seleccionaArticulo(data, articulo, descripcion, cantidad){\r\n    console.log('seleccionaArticulo');\r\n\r\n    articulo.value = `${data.art_scodformato}-${data.art_scodvariedad}`;\r\n    descripcion.value = data.art_sdescripcion;\r\n    this.cargaInfoArticuloAutoComplete(data.art_scodformato, data.art_scodvariedad, 1);\r\n\r\n    // cantidad.focus();\r\n\r\n    this.verListaArticulo = false;\r\n\r\n  }\r\n\r\n  seleccionaArticuloBoni(data, articuloBoni, descripcionBoni, cantidadBoni){\r\n\r\n    articuloBoni.value = `${data.art_scodformato}-${data.art_scodvariedad}`;\r\n    descripcionBoni.value = data.art_sdescripcion;\r\n\r\n    this.cargaInfoArticuloAutoComplete(data.art_scodformato, data.art_scodvariedad, 2);\r\n\r\n    // cantidadBoni.focus();\r\n\r\n    this.verListaArticuloBoni = false;\r\n\r\n  }\r\n\r\n  seleccionaDescripcion(data, articulo, descripcion, cantidad){\r\n    articulo.value = `${data.art_scodformato}-${data.art_scodvariedad}`;\r\n    descripcion.value = data.art_sdescripcion;\r\n\r\n    this.cargaInfoArticuloAutoComplete(data.art_scodformato, data.art_scodvariedad, 1);\r\n\r\n    // cantidad.focus();\r\n\r\n    this.verListaDescripcion = false;\r\n  }\r\n\r\n  seleccionaDescripcionBoni(data, articuloBoni, descripcionBoni, cantidadBoni){\r\n    articuloBoni.value = `${data.art_scodformato}-${data.art_scodvariedad}`;\r\n    descripcionBoni.value = data.art_sdescripcion;\r\n\r\n    this.cargaInfoArticuloAutoComplete(data.art_scodformato, data.art_scodvariedad, 2);\r\n\r\n    // cantidadBoni.focus();\r\n\r\n    this.verListaDescripcionBoni = false;\r\n  }\r\n\r\n  validaArticulo(articulo,descripcion,cantidad){\r\n    let articuloExiste = false;\r\n    if(articulo.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n        if(str.startsWith(`${articulo.value}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          this.cargaInfoArticuloAutoComplete(this.parametrosAutocomplete[i].art_scodformato, this.parametrosAutocomplete[i].art_scodvariedad, 1);\r\n          articulo.value = str;\r\n          descripcion.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          descripcion.focus();\r\n          articuloExiste = true;\r\n          this.verListaArticulo = false;\r\n          // cantidad.focus();\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articulo.value = '';\r\n        descripcion.value = '';\r\n        articulo.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }else{\r\n      articulo.focus();\r\n      swal('Atención', 'Debe ingresar el Artículo', 'warning'); \r\n      console.log('debe ingresar articulo');\r\n    }\r\n  }\r\n\r\n  validaArticuloBoni(articuloBoni,descripcionBoni,cantidadBoni){\r\n    let articuloExiste = false;\r\n    if(articuloBoni.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n        if(str.startsWith(`${articuloBoni.value}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          this.cargaInfoArticuloAutoComplete(this.parametrosAutocomplete[i].art_scodformato, this.parametrosAutocomplete[i].art_scodvariedad, 2);\r\n          articuloBoni.value = str;\r\n          descripcionBoni.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          descripcionBoni.focus();\r\n          articuloExiste = true;\r\n          this.verListaArticuloBoni = false;\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articuloBoni.value = '';\r\n        descripcionBoni.value = '';\r\n        articuloBoni.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }else{\r\n      articuloBoni.focus();\r\n      swal('Atención', 'Debe ingresar el Artículo', 'warning'); \r\n      console.log('debe ingresar articulo');\r\n    }\r\n  }\r\n\r\n  validaDescripcion(articulo,descripcion,cantidad){\r\n    let articuloExiste = false;\r\n    if(descripcion.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = (this.parametrosAutocomplete[i].art_sdescripcion).toLowerCase();\r\n        if(str.startsWith(`${(descripcion.value).toLowerCase()}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          this.cargaInfoArticuloAutoComplete(this.parametrosAutocomplete[i].art_scodformato, this.parametrosAutocomplete[i].art_scodvariedad, 1);\r\n          articulo.value = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n          descripcion.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          articuloExiste = true;\r\n          this.verListaDescripcion = false;\r\n          // cantidad.focus();\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articulo.value = '';\r\n        descripcion.value = '';\r\n        // descripcion.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }else{\r\n      console.log('debe ingresar articulo');\r\n    }\r\n  }\r\n\r\n  validaDescripcionBoni(articuloBoni,descripcionBoni,cantidadBoni){\r\n    let articuloExiste = false;\r\n    if(descripcionBoni.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = (this.parametrosAutocomplete[i].art_sdescripcion).toLowerCase();\r\n        if(str.startsWith(`${(descripcionBoni.value).toLowerCase()}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          this.cargaInfoArticuloAutoComplete(this.parametrosAutocomplete[i].art_scodformato, this.parametrosAutocomplete[i].art_scodvariedad, 2);\r\n          articuloBoni.value = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n          descripcionBoni.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          articuloExiste = true;\r\n          this.verListaDescripcionBoni = false;\r\n          // cantidadBoni.focus();\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articuloBoni.value = '';\r\n        descripcionBoni.value = '';\r\n        descripcionBoni.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }else{\r\n      console.log('debe ingresar articulo');\r\n    }\r\n  }\r\n\r\n  validaCantidad(valor){\r\n    if(valor.value === ''){\r\n      valor.value = 0;\r\n    }\r\n  }\r\n\r\n  validaFraccion(articulo, pos){\r\n    console.log('articulo', articulo);\r\n    if(pos === 1){\r\n      if(articulo.nFraccion === null){\r\n        articulo.nFraccion = 0;\r\n      }else{\r\n        //recalcular UV y fracción\r\n        articulo.nCantidad = parseInt(articulo.nCantidad + (articulo.nFraccion / articulo.hidUnidadesVta1));\r\n        articulo.nFraccion = articulo.nFraccion % articulo.hidUnidadesVta1;\r\n      }\r\n    }\r\n    else{\r\n      if(articulo.nFraccionBonificado === null){\r\n        articulo.nFraccionBonificado = 0;\r\n      }else{\r\n        //recalcular UV y fracción\r\n        articulo.nCantidadBonificado = parseInt(articulo.nCantidadBonificado + (articulo.nFraccionBonificado / articulo.hidUnidadesVta2));\r\n        articulo.nFraccionBonificado = articulo.nFraccionBonificado % articulo.hidUnidadesVta2;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  cargaInfoArticuloAutoComplete(codFormato, codVariedad, pos){\r\n    this.puedeAgregar = false;\r\n    this.cargador.show();\r\n\r\n    this.requestAutocomplete.nNumLocal = 0;\r\n    this.requestAutocomplete.nRutCliente = 0;\r\n    this.requestAutocomplete.nRutOperador = Number(this.authService.getDatosUser().nrutoperador);\r\n    this.requestAutocomplete.sCodBodega = null;\r\n    this.requestAutocomplete.sCodFormato = codFormato;\r\n    this.requestAutocomplete.sCodRelacionComer = null;\r\n    this.requestAutocomplete.sCodVariedad = codVariedad;\r\n    this.pedidosService.getCargaArticuloAutoComplete(this.requestAutocomplete)\r\n      .subscribe((data: any) => {\r\n        this.cargador.hide();\r\n        // this.articuloSeleccionado = data.articulo[0];\r\n        console.log('this.articuloSeleccionado', data.articulo[0]);\r\n        if(pos === 1){\r\n          this.hidUnidadesVta1 = data.articulo[0].art_nunidadventa;\r\n          console.log('this.hidUnidadesVta1', this.hidUnidadesVta1);\r\n        }else{\r\n          this.hidUnidadesVta2 = data.articulo[0].art_nunidadventa;\r\n          console.log('this.hidUnidadesVta2', this.hidUnidadesVta2);\r\n        }\r\n        \r\n        // articulo.value = `${this.articuloSeleccionado.art_scodformato}-${this.articuloSeleccionado.art_scodvariedad}`;\r\n        // descripcion.value = this.articuloSeleccionado.art_sdescripcion;\r\n        // medida.value = this.articuloSeleccionado.art_smedida;\r\n        // valorUV.value = this.articuloSeleccionado.nprecioventa;\r\n        // uv.value = 0;\r\n        // fraccion.value = 0;\r\n        // porcentaje.value = 0.0;\r\n        // this.hidUnidadesVta = this.articuloSeleccionado.art_nunidadventa;\r\n        // this.hidIndIaba = this.articuloSeleccionado.art_sindiaba;\r\n        // this.puedeAgregar = true;\r\n      },\r\n      error => {\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      });\r\n  }\r\n\r\n\r\n  agregarRegla(articulo, descripcion, cantidad, fraccion, articuloBoni, descripcionBoni, cantidadBoni,fraccionBoni){\r\n    this.articuloRegla = false;\r\n    this.descripcionRegla = false;\r\n    this.articuloBoniRegla = false;\r\n    this.descripcionBoniRegla = false;\r\n\r\n    if(!this.noVigente){\r\n      if(articulo.value !== '' && descripcion.value !== '' && articuloBoni.value !== '' && descripcionBoni.value !== ''){\r\n        this.articuloRegla =  this.validaArticuloRegla(articulo.value);\r\n        this.articuloBoniRegla = this.validaArticuloRegla(articuloBoni.value);\r\n        console.log(this.articuloRegla, this.articuloBoniRegla);\r\n        if(!this.articuloRegla || !this.articuloBoniRegla){\r\n          swal('Atención', 'Artículo no existe', 'warning'); \r\n        }else{\r\n          console.log('puede agregar regla');\r\n          this.agregaRegla(articulo, descripcion, cantidad, fraccion, articuloBoni, descripcionBoni, cantidadBoni,fraccionBoni);\r\n        }\r\n      }else{\r\n        articulo.focus();\r\n        swal('Atención', 'Debe ingresar ambos artículos', 'warning'); \r\n      }\r\n    }\r\n  }\r\n\r\n  agregaRegla(articulo, descripcion, cantidad, fraccion, articuloBoni, descripcionBoni, cantidadBoni,fraccionBoni){\r\n    console.log(articulo.value);\r\n    console.log(articuloBoni.value);\r\n    this.puedeAgregar = false;\r\n    let articuloSplit = articulo.value.split('-');\r\n    let articuloBoniSplit = articuloBoni.value.split('-');\r\n    console.log(articuloSplit);\r\n    let artSelected = {\r\n      bCheck: false,\r\n      nCantidad: cantidad.value === '' ? 0 : parseInt(cantidad.value),\r\n      nFraccion: fraccion.value === '' ? 0 : parseInt(fraccion.value),\r\n      nCantidadBonificado: cantidadBoni.value === '' ? 0 : parseInt(cantidadBoni.value),\r\n      nFraccionBonificado: fraccionBoni.value === '' ? 0 : parseInt(fraccionBoni.value),\r\n      sCodFormato: articuloSplit[0],\r\n      sCodFormatoBonificado: articuloBoniSplit[0],\r\n      sCodVariedad: articuloSplit[1],\r\n      sCodVariedadBonificado: articuloBoniSplit[1],\r\n      sDescripcion: descripcion.value,\r\n      sDescripcionBonificado: descripcionBoni.value,\r\n      verOK: false,\r\n      hidUnidadesVta1: this.hidUnidadesVta1,\r\n      hidUnidadesVta2: this.hidUnidadesVta2\r\n    }\r\n\r\n    console.log('artSelected', artSelected);\r\n    if(this.articulosJerarquia.length > 0){\r\n      for(let i in this.articulosJerarquia){\r\n        if(this.articulosJerarquia[i].sCodFormato === articuloSplit[0] && this.articulosJerarquia[i].sCodVariedad === articuloSplit[1]){\r\n          this.puedeAgregar = false;\r\n          break;\r\n        }\r\n        else{\r\n          this.puedeAgregar = true;\r\n        }\r\n      }\r\n      if(this.puedeAgregar){\r\n        this.articulosJerarquia.push(artSelected);\r\n        articulo.value = '';\r\n        descripcion.value = '';\r\n        cantidad.value= '';\r\n        fraccion.value = '';\r\n        articuloBoni.value = '';\r\n        descripcionBoni.value = '';\r\n        cantidadBoni.value = '';\r\n        fraccionBoni.value = '';\r\n        articulo.focus();\r\n      }else{\r\n        swal('Atención', 'El Artículo ya existe', 'warning');\r\n      }\r\n    }else{\r\n      this.articulosJerarquia.push(artSelected);\r\n      articulo.value = '';\r\n      descripcion.value = '';\r\n      cantidad.value= '';\r\n      fraccion.value = '';\r\n      articuloBoni.value = '';\r\n      descripcionBoni.value = '';\r\n      cantidadBoni.value = '';\r\n      fraccionBoni.value = '';\r\n      articulo.focus();\r\n    }\r\n    // this.verListaArticulo = false;\r\n  }\r\n\r\n  validaArticuloRegla(articuloTxt){\r\n    console.log(articuloTxt);\r\n    for(let i in this.parametrosAutocomplete){\r\n      if(articuloTxt === `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`){\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  validaFechasVigenciaTermino(){\r\n    this.grabaEncabezado = true;\r\n\r\n    let vigencia = new Date(`${this.forma.controls.fechaVigencia.value}:${this.forma.controls.horaVigencia.value}:00`);\r\n    let termino = new Date(`${this.forma.controls.fechaTermino.value}:${this.forma.controls.horaTermino.value}:00`);\r\n\r\n    if(vigencia < new Date()){\r\n      swal('Atención', 'La fecha y hora de inicio y no puede ser inferior a la fecha y hora actual', 'warning');\r\n      this.grabaEncabezado = false;\r\n    }else if(termino < vigencia){\r\n      swal('Atención', 'La fecha y hora de término no puede ser inferior a la fecha y hora inicio', 'warning');\r\n      this.grabaEncabezado = false;\r\n    }\r\n  }\r\n\r\n  guardaBonificacion(){\r\n    console.log(this.forma);\r\n    if(this.estructurasAccionesComerciales.length === 0){\r\n      swal('Atención', 'Debe ingresar datos en la Estructura Comercial', 'warning');\r\n    }else{\r\n      this.grabaEstructuras = true;\r\n      if(this.forma.valid){\r\n        $('*').removeClass('error-form');\r\n\r\n        //valida fechas vigencia y termino\r\n        this.validaFechasVigenciaTermino();\r\n        \r\n        if(this.articulosJerarquia.length === 0){\r\n          swal('Atención', 'Debe ingresar datos en la Regla', 'warning');\r\n        }else{\r\n          this.grabaJerarquias = true;\r\n        }\r\n      }else{\r\n        swal('Atención', 'Existen campos requeridos no ingresados', 'warning' );\r\n        if(!this.forma.controls.fechaVigencia.valid){\r\n          $('[name=fechaVigencia]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=fechaVigencia]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.horaVigencia.valid){\r\n          $('[name=horaVigencia]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=horaVigencia]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.descripcion.valid){\r\n          $('[name=descripcion]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=descripcion]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.fechaTermino.valid){\r\n          $('[name=fechaTermino]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=fechaTermino]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.horaTermino.valid){\r\n          $('[name=horaTermino]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=horaTermino]').removeClass('error-form');\r\n        }\r\n        // if(!this.forma.controls.tipo.valid){\r\n        //   $('[name=tipo]').addClass('error-form');\r\n        // }\r\n        // else{\r\n        //   $('[name=tipo]').removeClass('error-form');\r\n        // }\r\n        // if(!this.forma.controls.porcDescuento.valid || this.forma.controls.porcDescuento.value === 0 ){\r\n        //   $('[name=porcDescuento]').addClass('error-form');\r\n        // }\r\n        // else{\r\n        //   $('[name=porcDescuento]').removeClass('error-form');\r\n        // }\r\n      }\r\n    }\r\n\r\n    console.log(this.grabaEstructuras, this.grabaEncabezado, this.grabaJerarquias);\r\n    if(this.grabaEstructuras && this.grabaEncabezado && this.grabaJerarquias){\r\n      //grabar descuento\r\n\r\n      //prepara encabezadoDcto del request\r\n      this.requestGrabar.encabezadoBonif = {\r\n        nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n        nRunUsuarioCrea: this.authService.getDatosUser().nrunusuario,\r\n        sCodTipoAccion: 'BONIF',\r\n        sCodTipoDescuento: '00000',\r\n        sCodTipoEstructura: this.forma.controls.tipoEstructura.value,\r\n        sDescripcion: this.forma.controls.descripcion.value,\r\n        sFhoinicio: (this.forma.controls.fechaVigencia.value).replace(/-/g, '') + (this.forma.controls.horaVigencia.value).replace(':', '') + '00',\r\n        sFhotermino: (this.forma.controls.fechaTermino.value).replace(/-/g, '') + (this.forma.controls.horaTermino.value).replace(':', '') + '00',\r\n      }\r\n\r\n      //prepara estructuraComercial del request\r\n      this.estructurasAccionesComercialesRequest = [];\r\n      console.log('this.estructurasAccionesComerciales',this.estructurasAccionesComerciales );\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        let estructura = {\r\n          nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n          nNomCliente: this.estructurasAccionesComerciales[i].cli_snombre.trim(),\r\n          nNumLocal: this.estructurasAccionesComerciales[i].pea_nnumlocal,\r\n          nRutCliente: this.estructurasAccionesComerciales[i].pea_nrutcliente,\r\n          nRutOperador: this.estructurasAccionesComerciales[i].pea_nrutoperador,\r\n          sCodCatNegocio: this.estructurasAccionesComerciales[i].pea_scodcatnegocio.trim(),\r\n          sCodFuerzaVenta: this.estructurasAccionesComerciales[i].pea_scodfuerzaventa.trim(),\r\n          sCodRelacionComercial: this.estructurasAccionesComerciales[i].pea_scodrelcomercial.trim(),\r\n          sCodTerritorio: this.estructurasAccionesComerciales[i].pea_scodterritorio.trim(),\r\n          sCodTipoSDescuento: '00000',\r\n          sCodZona: this.estructurasAccionesComerciales[i].pea_scodzona.trim()\r\n        }\r\n        this.estructurasAccionesComercialesRequest.push(estructura);\r\n      }\r\n\r\n      this.requestGrabar.estructuraComercial = this.estructurasAccionesComercialesRequest;\r\n\r\n      //prepara jerarquiaProducto del request\r\n      this.articulosJerarquiaRequest = [];\r\n      for(let i in this.articulosJerarquia){\r\n    \r\n        let articulo = {\r\n          nCantidad: (this.articulosJerarquia[i].nCantidad * this.articulosJerarquia[i].hidUnidadesVta1) + this.articulosJerarquia[i].nFraccion,\r\n          nCantidadBonificado: (this.articulosJerarquia[i].nCantidadBonificado * this.articulosJerarquia[i].hidUnidadesVta2) + this.articulosJerarquia[i].nFraccionBonificado,\r\n          nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n          sCodFormato: this.articulosJerarquia[i].sCodFormato,\r\n          sCodFormatoBonificado: this.articulosJerarquia[i].sCodFormatoBonificado,\r\n          sCodTipoDescuento: '00000',\r\n          sCodVariedad: this.articulosJerarquia[i].sCodVariedad,\r\n          sCodVariedadBonificado: this.articulosJerarquia[i].sCodVariedadBonificado\r\n        }\r\n        this.articulosJerarquiaRequest.push(articulo);\r\n      }\r\n\r\n      this.requestGrabar.jerarquiaProducto = this.articulosJerarquiaRequest;\r\n      \r\n      this.requestGrabar.lSalIdAccionComercial = this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value;\r\n      \r\n\r\n      console.log('this.requestGrabar', this.requestGrabar);\r\n      console.log('estructurasAccionesComerciales', this.estructurasAccionesComerciales);\r\n      console.log('articulosJerarquia', this.articulosJerarquia);\r\n\r\n      this.cargador.show();\r\n      this.administracionComercialService.creaAccionComercialBonif(this.requestGrabar)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        console.log('data graba Bonificación', data);\r\n        if(data.error.codError !== 0){\r\n          swal('Atención', data.error.msjError, 'error');\r\n        } else{\r\n          swal('Atención',`Se ha guardado la Acción Comercial [${data.lIdAccionComercial}]`, 'success');\r\n          this.router.navigate(['/administracionComercial/accionesComerciales']);\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n         swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  edit(articulo){\r\n    console.log(articulo);\r\n    this.editRowID = `${articulo.sCodFormato}-${articulo.sCodVariedad}`;\r\n    articulo.verOK = true;\r\n  }\r\n\r\n  save(articulo){\r\n    this.editRowID = null;\r\n    articulo.verOK = false;\r\n  }\r\n\r\n  inhabilitarAccion(){\r\n    swal({\r\n      title: 'Atención',\r\n      text: '¿Está seguro que desea inhabilitar la Acción Comercial?',\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#85b3cd',\r\n      confirmButtonText: 'Aceptar',\r\n      cancelButtonText: 'Cancelar',\r\n      closeOnConfirm: true\r\n    }, () => {\r\n        this.request = {\r\n        nIdAccion: this.forma.controls.numero.value,\r\n        nRutUsuarioActualiza: this.authService.getDatosUser().nrunusuario,\r\n        sCodTipoDescuento: '00000'\r\n       }\r\n  \r\n      console.log('request inhabilitar', this.request);\r\n  \r\n      this.cargador.show();\r\n        this.administracionComercialService.inhabilitaAccionComercial(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          console.log(data);\r\n          if(data.error.codError !== 0){\r\n            setTimeout(() => {\r\n              swal('Atención', data.error.msjError, 'error');\r\n            }, 250);\r\n          } else{\r\n            setTimeout(()=>{\r\n              swal('Atención',`Se ha inhabilitado la Acción Comercial`, 'success');\r\n            },250);\r\n            this.router.navigate(['/administracionComercial/accionesComerciales']);\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          setTimeout(() => {\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          }, 250);\r\n        })\r\n    });\r\n  }\r\n  \r\n  setData(resData){\r\n    console.log(resData);\r\n    if(resData != 0){\r\n      switch(this.origen) { \r\n        case 'fuerzaVenta': { \r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.desFuerzaVenta.setValue(resData.fvt_sdesfuerzavta);\r\n          this.enUsoFzaVtas = true;\r\n          break; \r\n        } \r\n        case 'operador': { \r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.descOperador.setValue(resData.ope_snombre); \r\n          this.enOperador = true;\r\n          break; \r\n        }\r\n        case 'zona': {\r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.codZona.setValue(resData.zon_scodzona);\r\n          this.forma.controls.descZona.setValue(resData.zon_sdeszona); \r\n          break; \r\n        }\r\n        case 'territorioAC': { \r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.codZona.setValue(resData.zon_scodzona);\r\n          this.forma.controls.codTerritorio.setValue(resData.ter_scodterritorio);\r\n          this.forma.controls.descTerritorio.setValue(resData.ter_sdesterritorio); \r\n          break; \r\n        } \r\n        case 'catNegocio': { \r\n          this.forma.controls.codCatNegocio.setValue(resData.can_scodcatnegocio);\r\n          this.forma.controls.desCatNegocio.setValue(resData.can_sdescatnegocio);\r\n          this.enCatNegocio = true;\r\n          break; \r\n        } \r\n        case 'cliente': { \r\n          this.forma.controls.rutCliente.setValue(resData.cli_nrutcliente);\r\n          this.forma.controls.dvRutCliente.setValue(resData.cli_sdigverificador);\r\n          this.forma.controls.nombreCliente.setValue(resData.cli_snombre);\r\n          this.enCliente = true;\r\n          break; \r\n        } \r\n        case 'clienteRC': { \r\n          this.forma.controls.codNumLocal.setValue(resData.rco_nnumlocal);\r\n          this.forma.controls.codClienteLocal.setValue(resData.rco_scodrelacioncomercial);\r\n          this.forma.controls.descClienteLocal.setValue(resData.rel_sdescripcionrelacioncomerc);\r\n          this.forma.controls.rutCliente.setValue(resData.cli_nrutcliente);\r\n          this.forma.controls.dvRutCliente.setValue(resData.cli_sdigverificador);\r\n          this.forma.controls.nombreCliente.setValue(resData.cli_snombre);\r\n          break; \r\n        } \r\n      } \r\n    }\r\n    $('body').removeClass('modal-open');\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Acciones Comerciales<em class=\\\"fa fa-angle-right mh-2\\\"></em>Descuento</h4>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Creación</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaCreacion\\\" name=\\\"fechaCreacion\\\" type=\\\"date\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Número</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"numero\\\" name=\\\"numero\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Tipo Estructura</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <select *ngIf=\\\"nuevaAccionComercial\\\" class=\\\"form-control pv-0\\\" formControlName=\\\"tipoEstructura\\\" name=\\\"tipoEstructura\\\" (change)=\\\"verModales()\\\">\\r\\n                                <option value=\\\"\\\">(Sin Selección)</option>\\r\\n                                <option *ngFor=\\\"let userTipo of tipoEstructura\\\" [ngValue]=\\\"userTipo.par_codparametro01\\\">{{userTipo.par_deslargo01}}</option>\\r\\n                        </select>\\r\\n                        <input style=\\\"display:none;\\\" formControlName=\\\"tipoEstructura\\\" name=\\\"TipoEstructura\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        <input *ngIf=\\\"!nuevaAccionComercial\\\" formControlName=\\\"desctipoEstructura\\\" name=\\\"descTipoEstructura\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Vigencia</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input #fechaVigencia class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaVigencia\\\" name=\\\"fechaVigencia\\\" type=\\\"date\\\" (focusout)=\\\"validarFechas(fechaVigencia)\\\" required />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Hora</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control pr-1 w-110 text-center\\\" formControlName=\\\"horaVigencia\\\" name=\\\"horaVigencia\\\" type=\\\"time\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Descripción</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <input formControlName=\\\"descripcion\\\" name=\\\"descripcion\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Fecha Término</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input #fechaTermino class=\\\"form-control w-110 ph-1 text-center\\\" formControlName=\\\"fechaTermino\\\" name=\\\"fechaTermino\\\" type=\\\"date\\\" (focusout)=\\\"validarFechas(fechaTermino)\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Hora</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input class=\\\"form-control pr-1 w-110 text-center\\\" formControlName=\\\"horaTermino\\\" name=\\\"horaTermino\\\" type=\\\"time\\\" />\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Tipo</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <select *ngIf=\\\"nuevaAccionComercial\\\" class=\\\"form-control pv-0\\\" formControlName=\\\"tipo\\\" name=\\\"tipo\\\">\\r\\n                                <option value=\\\"\\\" selected>(Todos)</option>\\r\\n                                <option *ngFor=\\\"let userTipo of tipo\\\" [ngValue]=\\\"userTipo.par_codparametro01\\\">{{userTipo.par_deslargo01}}</option>\\r\\n                        </select>\\r\\n                        <input *ngIf=\\\"!nuevaAccionComercial\\\" formControlName=\\\"tipo\\\" name=\\\"tipo\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        <input formControlName=\\\"codTipo\\\" name=\\\"codTipo\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row pull-left mb-4\\\">\\r\\n                <div class=\\\"col-sm-3\\\">\\r\\n                    <a routerLink=\\\"/administracionComercial/accionesComerciales\\\" class=\\\"btn btn-oval btn-sm\\\">Volver</a>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-3 mr-2\\\">\\r\\n                    <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"guardaDescuento()\\\">Guardar</button>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-4\\\">\\r\\n                    <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='inhabilitar || nuevaAccionComercial' (click)=\\\"inhabilitarAccion()\\\">Inhabilitar</button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <tabset>\\r\\n                            <tab>\\r\\n                                <ng-template tabHeading>Estructura Comercial Lineal</ng-template>\\r\\n                                <div>\\r\\n                                    <div class=\\\"form-group\\\">\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Fuerza de Venta</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codFuerzaVenta\\\" name=\\\"codFuerzaVenta\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"desFuerzaVenta\\\" name=\\\"desFuerzaVenta\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalFzaVta()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Operador</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codOperador\\\" name=\\\"codOperador\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descOperador\\\" name=\\\"descOperador\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalOperador()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label\\\">Zona</label>\\r\\n                                                <div class=\\\"col-sm-8 pl-0\\\">\\r\\n                                                    <input formControlName=\\\"codZona\\\" name=\\\"codZona\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descZona\\\" name=\\\"descZona\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('zona', 'Zonas')\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Territorio</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codTerritorio\\\" name=\\\"codTerritorio\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descTerritorio\\\" name=\\\"descTerritorio\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('territorioAC', 'Territorio')\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Cat. Negocio</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codCatNegocio\\\" name=\\\"codCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"desCatNegocio\\\" name=\\\"desCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalcatNegocio()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                       <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0\\\">Cliente</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"rutCliente\\\" name=\\\"rutCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"dvRutCliente\\\" name=\\\"dvRutCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"nombreCliente\\\" name=\\\"nombreCliente\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalCliente()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <label class=\\\"col-sm-2 control-label ph-0 lh-11\\\">Cliente Local R/C</label>\\r\\n                                                <div class=\\\"col-sm-8\\\">\\r\\n                                                    <input formControlName=\\\"codNumLocal\\\" name=\\\"codNumLocal\\\" class=\\\"form-control\\\" type=\\\"number\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"codClienteLocal\\\" name=\\\"codClienteLocal\\\" class=\\\"form-control\\\" type=\\\"text\\\" style=\\\"display:none;\\\" />\\r\\n                                                    <input formControlName=\\\"descClienteLocal\\\" name=\\\"descClienteLocal\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                                                </div>\\r\\n                                                <div *ngIf=\\\"verModal\\\" class=\\\"col-sm-1\\\">\\r\\n                                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalClienteLocalRC()\\\" [disabled]=\\\"noVigente\\\">\\r\\n                                                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                                                    </button>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                        <div class=\\\"row pull-left mt-3 ml-0\\\">\\r\\n                                            <div class=\\\"col-sm-3 mr-3\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"agregar()\\\">Agregar</button>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-4\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"eliminar()\\\">Eliminar</button>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-3 pl-1\\\">\\r\\n                                                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"limpiar()\\\">Limpiar</button>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n\\r\\n                                    </div>\\r\\n                                    <div class=\\\"table\\\">\\r\\n                                        <table class=\\\"table table-bordered table-hover\\\">\\r\\n                                            <thead>\\r\\n                                                <tr>\\r\\n                                                    <th>\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckTitulo()\\\" [checked]=\\\"checkTituloSeleccionado\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </th>\\r\\n                                                    <th class=\\\"align-middle\\\">Fuerza Venta</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Operador</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Zona</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Territorio</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Categoría Negocio</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Cliente</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Cliente Local R/C</th>\\r\\n                                                </tr>\\r\\n                                            </thead>\\r\\n                                            <tbody>\\r\\n                                                <tr *ngFor=\\\"let estructura of estructurasAccionesComerciales\\\">\\r\\n                                                    <td>\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckEstructura(estructura)\\\" [checked]=\\\"estructura.bCheck\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </td>\\r\\n                                                    <td>{{ estructura.fvt_sdesfuerzavta === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.fvt_sdesfuerzavta }}</td>\\r\\n                                                    <td>{{ estructura.ope_snombre === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.ope_snombre }}</td>\\r\\n                                                    <td>{{ estructura.zon_sdeszona === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.zon_sdeszona }}</td>\\r\\n                                                    <td>{{ estructura.ter_sdesterritorio === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.ter_sdesterritorio }}</td>\\r\\n                                                    <td>{{ estructura.can_sdescatnegocio === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.can_sdescatnegocio }}</td>\\r\\n                                                    <td>{{ estructura.cli_snombre === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : estructura.cli_snombre }}</td>\\r\\n                                                    <td *ngIf=\\\"estructuraListado === 'LINEA'\\\">{{ estructura.rel_sdescripcionrelacioncomerc === ' ' && estructuraListado === 'LINEA' ? '(Todos)' : 'Local ' + estructura.pea_nnumlocal + ' / ' + estructura.rel_sdescripcionrelacioncomerc }}</td>\\r\\n                                                    <td *ngIf=\\\"estructuraListado !== 'LINEA'\\\">{{ estructura.rel_sdescripcionrelacioncomerc }}</td>\\r\\n                                                </tr>\\r\\n                                            </tbody>\\r\\n\\r\\n                                        </table>\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n                            </tab>\\r\\n                            <tab>\\r\\n                                <ng-template tabHeading>Jerarquía de Productos</ng-template>\\r\\n                                <div>\\r\\n                                    <div class=\\\"form-group\\\">\\r\\n                                        <div class=\\\"col-sm-12 ph-0\\\">\\r\\n                                            <label class=\\\"col-sm-1 control-label\\\">% Descuento</label>\\r\\n                                            <div class=\\\"col-sm-2\\\">\\r\\n                                                <input appDecimalNumber formControlName=\\\"porcDescuento\\\" name=\\\"porcDescuento\\\" class=\\\"form-control\\\" type=\\\"number\\\" step=\\\"0.01\\\" max=100 maxlength=\\\"6\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\" (focusout)=\\\"validaPorcentaje()\\\"\\r\\n                                                />\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"row pull-left mb-4\\\">\\r\\n                                        <div class=\\\"col-sm-3 mr-3\\\">\\r\\n                                            <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" [disabled]='noVigente' (click)=\\\"eliminarJerarquia()\\\">Eliminar</button>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"table\\\">\\r\\n                                        <table class=\\\"table table-bordered table-hover jerarquiaProductos\\\">\\r\\n                                            <thead>\\r\\n                                                <tr>\\r\\n                                                    <th class=\\\"w-60\\\">\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick pt-1\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckTituloJerarquia()\\\" [checked]=\\\"checkTituloJerarquiaSeleccionado\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </th>\\r\\n                                                    <th class=\\\"align-middle\\\">Artículo</th>\\r\\n                                                    <th class=\\\"align-middle\\\">Descripción Artículo</th>\\r\\n                                                </tr>\\r\\n                                            </thead>\\r\\n                                            <tbody>\\r\\n                                                <tr *ngFor=\\\"let articulo of articulosJerarquia\\\">\\r\\n                                                    <td class=\\\"pt-0\\\">\\r\\n                                                        <div class=\\\"checkbox c-checkbox needsclick\\\">\\r\\n                                                            <label class=\\\"needsclick\\\">\\r\\n                                                                <input class=\\\"needsclick\\\" type=\\\"checkbox\\\" (change)=\\\"validaCheckJerarquia(articulo)\\\" [checked]=\\\"articulo.bCheck\\\" />\\r\\n                                                                <span class=\\\"fa fa-check\\\"></span>\\r\\n                                                            </label>\\r\\n                                                        </div>\\r\\n                                                    </td>\\r\\n                                                    <td>{{articulo.dac_scodformato}}-{{articulo.dac_scodvariedad}}</td>\\r\\n                                                    <td>{{articulo.art_sdescripcion}}</td>\\r\\n                                                </tr>\\r\\n                                                <tr>\\r\\n                                                    <td></td>\\r\\n                                                    <td class=\\\"w-100 align-top\\\">\\r\\n                                                        <input #articulo type=\\\"text\\\" [(ngModel)]=\\\"filterData\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control mw-100\\\" (input)=\\\"setArticulo(articulo)\\\" (keydown.Tab)=\\\"validaArticulo(articulo,descripcion)\\\" />\\r\\n                                                        <ul *ngIf=\\\"verListaArticulo\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filter:filterData\\\" (click)=\\\"seleccionaArticulo(data, articulo, descripcion)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_scodformato}}-{{data.art_scodvariedad}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                    <td class=\\\"align-top\\\">\\r\\n                                                        <input #descripcion type=\\\"text\\\" [(ngModel)]=\\\"filterDesc\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control width-desc\\\" (input)=\\\"setDescripcion(descripcion)\\\" (keydown.Tab)=\\\"validaDescripcion(articulo,descripcion)\\\" />\\r\\n                                                        <ul *ngIf=\\\"verListaDescripcion\\\" class=\\\"list-group filter-list\\\">\\r\\n                                                            <li *ngFor=\\\"let data of parametrosAutocomplete | filterDesc:filterDesc\\\" (click)=\\\"seleccionaDescripcion(data, articulo, descripcion)\\\">\\r\\n                                                                <a class=\\\"list-group-item\\\">{{data.art_sdescripcion}}</a>\\r\\n                                                            </li>\\r\\n                                                        </ul>\\r\\n                                                    </td>\\r\\n                                                </tr>\\r\\n                                            </tbody>\\r\\n                                        </table>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </tab>\\r\\n                        </tabset>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\"","module.exports = \".width-desc{width:60%}.filter-list{list-style:none;max-height:200px;overflow-y:scroll}\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AdministracionComercialService } from '../../../../core/consultaService/administracionComercial.service';\r\nimport { UtilService } from '../../../../services/util.service';\r\nimport { ConsultasService } from './../../../../core/consultaService/consultas.service';\r\nimport { AuthService } from '../../../../core/consultaService/auth.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\nimport { BuscarArticuloPopUpComponent } from './../../../commonPopUp/buscarArticuloPopUp/buscarArticuloPopUp.component';\r\nimport { ClienteACPopUpComponent } from '../../../commonPopUp/clienteACPopUp/clienteACPopUp.component';\r\nimport { ClienteRelComercialPopUpComponent } from '../../../commonPopUp/clienteRelComercialPopUp/clienteRelComercialPopUp.component';\r\n\r\nconst swal = require('sweetalert');\r\n\r\ndeclare var jQuery:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  selector: 'app-detalle-descuento-comercial',\r\n  templateUrl: './detalleDescuentoComercial.component.html',\r\n  styleUrls: ['./detalleDescuentoComercial.component.scss']\r\n})\r\nexport class DetalleDescuentoComercialComponent implements OnInit, OnDestroy {\r\n\r\n  parametrosAutocomplete: any;\r\n\r\n  noVigente:boolean;\r\n  inhabilitar:boolean;\r\n\r\n  nuevaAccionComercial = false;\r\n\r\n  dataAutocomplete = [];\r\n\r\n  filterData = '';\r\n  filterDesc = '';\r\n\r\n  forma: FormGroup;\r\n\r\n  bsModalRef: BsModalRef;\r\n\r\n  origen = '';\r\n\r\n  subData: any;\r\n\r\n  fechaActual =  new Date();\r\n\r\n  tipo: any;\r\n  tipoEstructura: any;\r\n\r\n  request: any = {};\r\n  requestGrabar: any = {};\r\n\r\n  articulosJerarquia: Array <any> = [];\r\n  articulosJerarquiaRequest: Array <any> = [];\r\n  estructurasAccionesComerciales: Array <any> = [];\r\n  estructurasAccionesComercialesRequest: Array <any> = [];\r\n\r\n  verModal = true;\r\n\r\n  checkTituloSeleccionado = false;\r\n  checkEstructuraSeleccionada = false;\r\n  checkTituloJerarquiaSeleccionado = false;\r\n  checkJerarquiaSeleccionada = false;\r\n\r\n  combinatoriaValido = false;\r\n\r\n  enUsoFzaVtas = false;\r\n  enOperador = false;\r\n  enCatNegocio = false;\r\n  enCliente = false;\r\n\r\n  puedeAgregar: boolean;\r\n\r\n  verListaArticulo: boolean;\r\n  verListaDescripcion: boolean;\r\n\r\n  grabaEstructuras = false;\r\n  grabaEncabezado = false;\r\n  grabaJerarquias = false;\r\n\r\n  estructuraListado = '';\r\n\r\n  constructor(fb: FormBuilder, private administracionComercialService:AdministracionComercialService, private utilService:UtilService,\r\n              private consultasService:ConsultasService, private modalService: BsModalService, private authService:AuthService,\r\n              public cargador: NgxSpinnerService, private router:Router) {\r\n    this.forma = new FormGroup ({\r\n      fechaCreacion: new FormControl('', Validators.required),\r\n      numero: new FormControl( '', Validators.required),\r\n      tipoEstructura: new FormControl('', Validators.required),\r\n      desctipoEstructura: new FormControl(''),\r\n      fechaVigencia: new FormControl( '', Validators.required),\r\n      horaVigencia: new FormControl( '', Validators.required),\r\n      descripcion: new FormControl( '', Validators.required),\r\n      fechaTermino: new FormControl( '', Validators.required),\r\n      horaTermino: new FormControl( '', Validators.required),\r\n      codTipo: new FormControl( ''),\r\n      tipo: new FormControl( '', Validators.required),\r\n      codFuerzaVenta: new FormControl( ''),\r\n      desFuerzaVenta: new FormControl({value:'', disabled:true}),\r\n      codOperador: new FormControl( ''),\r\n      descOperador: new FormControl({value:'', disabled:true}),\r\n      codZona: new FormControl( ''),\r\n      descZona: new FormControl({value:'', disabled:true}),\r\n      codTerritorio: new FormControl( ''),\r\n      descTerritorio: new FormControl({value:'', disabled:true}),\r\n      codCatNegocio: new FormControl( ''),\r\n      desCatNegocio: new FormControl({value:'', disabled:true}),\r\n      rutCliente: new FormControl( ''),\r\n      dvRutCliente: new FormControl( ''),\r\n      nombreCliente: new FormControl({value:'', disabled:true}),\r\n      codNumLocal: new FormControl( ''),\r\n      codClienteLocal: new FormControl( ''),\r\n      descClienteLocal: new FormControl({value:'', disabled:true}),\r\n      porcDescuento:new FormControl( '', Validators.required)\r\n      });\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n    this.parametrosAutocomplete = this.authService.getArticuloAutocomplete();\r\n\r\n    if(this.administracionComercialService.selectedAccionComercial.aco_nidaccion){\r\n      this.forma.controls.fechaCreacion.disable();\r\n      this.forma.controls.numero.disable();\r\n      this.forma.controls.desctipoEstructura.disable();\r\n      this.forma.controls.tipo.disable();\r\n\r\n      this.cargarDatosAccionComercial();\r\n\r\n    }else{\r\n      console.log('nuevo');\r\n      this.nuevaAccionComercial = true;\r\n      this.forma.controls.fechaCreacion.setValue(this.utilService.dateToStringFormat(this.fechaActual));\r\n      this.forma.controls.fechaCreacion.disable();\r\n      this.forma.controls.numero.disable();\r\n      this.cargaCombos();\r\n    }\r\n\r\n    this.subData = this.consultasService.datos$.subscribe(resData =>{\r\n      this.setData(resData);\r\n    })\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if(this.subData != undefined) {\r\n      this.subData.unsubscribe();\r\n    }\r\n  }\r\n\r\n  openModal(origen, titulo) {\r\n    this.origen = origen;\r\n    const initialState = {\r\n      titulo: titulo,\r\n      origen: origen,\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalFzaVta() {\r\n    this.origen = 'fuerzaVenta';\r\n    const initialState = {\r\n      titulo: 'Fuerza de Venta',\r\n      origen: 'fuerzaVenta',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enUsoFzaVtas){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalOperador() {\r\n    this.origen = 'operador';\r\n    const initialState = {\r\n      titulo: 'Operadores',\r\n      origen: 'operador',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enOperador){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalcatNegocio() {\r\n    this.origen = 'catNegocio';\r\n    const initialState = {\r\n      titulo: 'Categoría Negocio',\r\n      origen: 'catNegocio',\r\n      forma: this.forma\r\n    };\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enCatNegocio){\r\n        this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n  }\r\n\r\n  openModalCliente() {\r\n    this.origen = 'cliente';\r\n    const initialState = {\r\n      titulo: 'Clientes',\r\n      origen: 'cliente',\r\n      formaCli: this.forma\r\n    };\r\n\r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido || this.enCliente){\r\n        this.bsModalRef = this.modalService.show(ClienteACPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(ClienteACPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }    \r\n  }\r\n\r\n  openModalClienteLocalRC(){\r\n    this.origen = 'clienteRC';\r\n    const initialState = {\r\n      titulo: 'Clientes / Relación Comercial',\r\n      origen: 'clienteRC',\r\n      formaCli: this.forma\r\n    };\r\n\r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI')\r\n    {\r\n      this.validaCombinatoria();\r\n      if(this.combinatoriaValido){\r\n        this.bsModalRef = this.modalService.show(ClienteRelComercialPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n      }else{\r\n        swal('Atención', 'Sólo puede seleccionar un item a la vez. Agregue el seleccionado, o limpie antes de continuar.', 'info');\r\n      }\r\n    }else if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n      this.bsModalRef = this.modalService.show(ClienteRelComercialPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }else{\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }\r\n    \r\n  }\r\n\r\n  validaCombinatoria(){\r\n    if(this.forma.controls.desFuerzaVenta.value === '' && this.forma.controls.descOperador.value === '' && this.forma.controls.desCatNegocio.value === '' && this.forma.controls.nombreCliente.value === '' ){\r\n      this.combinatoriaValido = true;\r\n    }\r\n    else{\r\n      this.combinatoriaValido = false;\r\n    }\r\n  }\r\n\r\n  validaPorcentaje(){\r\n    if(this.forma.controls.porcDescuento.value === '' || this.forma.controls.porcDescuento.value === 0 || this.forma.controls.porcDescuento.value > 100){\r\n      swal('Atención', 'Descuento inválido', 'warning');\r\n      this.forma.controls.porcDescuento.setValue(0);\r\n    }\r\n  \r\n    this.forma.controls.porcDescuento.setValue(parseFloat(this.forma.controls.porcDescuento.value).toFixed(2));\r\n  }\r\n\r\n  cargarDatosAccionComercial(){\r\n    this.request.nIdAccionComercial = this.administracionComercialService.selectedAccionComercial.aco_nidaccion;\r\n    this.request.sCodTipoDescuento = this.administracionComercialService.selectedAccionComercial.aco_scodtipodescuento;\r\n\r\n    //carga encabezado Accion Comercial\r\n    this.administracionComercialService.getEncabezadoAccionComercial(this.request)\r\n    .subscribe((data:any)=>{\r\n        console.log('data encabezado', data);\r\n\r\n        if(data.cargaEncabezadoAccionComercial){     \r\n          this.cargarEncabezadoEstructurasComerciales(data.cargaEncabezadoAccionComercial);\r\n          \r\n          //Validar Fecha Vigencia\r\n          this.validaVigencia(data.cargaEncabezadoAccionComercial);\r\n\r\n          //Validar Inhabilitar\r\n          this.validaInhabilitar(data.cargaEncabezadoAccionComercial)\r\n\r\n          this.verModales();\r\n        }\r\n                  \r\n        if(data.error.codError != 0){\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        }\r\n    },\r\n    error =>{\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n    })\r\n\r\n    //Carga Jerarquia Acción Comercial\r\n    this.administracionComercialService.getJerarquiaAccionComercial(this.request)\r\n      .subscribe((data:any)=>{\r\n          console.log('data jerarquia', data);\r\n\r\n          if(data.cargaJerarquia){\r\n            this.cargarListadoJerarquiasComerciales(data.cargaJerarquia);\r\n          }\r\n                    \r\n          if(data.error.codError != 0){\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          }\r\n      },\r\n      error =>{\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n\r\n      //Carga Estructura Acción Comercial\r\n      this.administracionComercialService.getEstructuraAccionComercial(this.request)\r\n      .subscribe((data:any)=>{\r\n          console.log('data estructura accion comercial', data);\r\n\r\n          if(data.cargaEstructura){\r\n            this.cargarListadoEstructurasComerciales(data.cargaEstructura);\r\n          }\r\n                    \r\n          if(data.error.codError != 0){\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          }\r\n      },\r\n      error =>{\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n\r\n  }\r\n  \r\n  cargaCombos(){\r\n    this.tipo = this.authService.getParametrosTipoDescuento();\r\n    this.tipoEstructura = this.authService.getParametrosTipoEstructura();\r\n  }\r\n\r\n  validaVigencia(data){\r\n    this.noVigente = false;\r\n    console.log('data fecha hora',data);\r\n    let fechaTermino = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhoinicio)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhoinicio)}`);\r\n    let fechaInhabilitar = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino)}`);\r\n    console.log(fechaTermino);\r\n    console.log(this.fechaActual);\r\n    console.log(data[0].aco_scodestado);\r\n    \r\n    if(data[0].aco_scodestado === 'NOVIG'){\r\n      console.log('no vigente');\r\n      this.noVigente = true;\r\n    }else if(this.fechaActual > fechaTermino){\r\n      console.log('no vigente');\r\n      this.noVigente = true;\r\n    }\r\n\r\n    if(this.noVigente){\r\n      this.forma.controls.fechaVigencia.disable();\r\n      this.forma.controls.horaVigencia.disable();\r\n      this.forma.controls.descripcion.disable();\r\n      this.forma.controls.fechaTermino.disable();\r\n      this.forma.controls.horaTermino.disable();\r\n      this.forma.controls.porcDescuento.disable();\r\n    }\r\n  }\r\n\r\n  validaInhabilitar(data){\r\n    //inhabilitar\r\n    this.inhabilitar = false;\r\n    console.log('data fecha hora',data);\r\n    //let fechaTermino = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhoinicio)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhoinicio)}`);\r\n    let fechaInhabilitar = new Date(`${this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino)} ${this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino)}`);\r\n    console.log(fechaInhabilitar);\r\n    console.log(this.fechaActual);\r\n    console.log(data[0].aco_scodestado);\r\n    \r\n    if(data[0].aco_scodestado === 'NOVIG'){\r\n      console.log('inhabilitar');\r\n      this.inhabilitar = true;\r\n    }else if(this.fechaActual > fechaInhabilitar){\r\n      console.log('inhabilitar');\r\n      this.inhabilitar = true;\r\n    }\r\n  }\r\n\r\n  cargarEncabezadoEstructurasComerciales(data){\r\n    this.forma.controls.fechaCreacion.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhocreacion));\r\n    this.forma.controls.numero.setValue(data[0].aco_nidaccion);\r\n    this.forma.controls.tipoEstructura.setValue(data[0].aco_scodtipoestructura);\r\n    this.forma.controls.desctipoEstructura.setValue(data[0].sdestipoestructura);\r\n    this.forma.controls.fechaVigencia.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhoinicio));\r\n    this.forma.controls.horaVigencia.setValue(this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhoinicio));\r\n    this.forma.controls.descripcion.setValue(data[0].aco_sdescripcion);\r\n    this.forma.controls.fechaTermino.setValue(this.utilService.dateStringServiceToStringFormat(data[0].aco_dfhotermino));\r\n    this.forma.controls.horaTermino.setValue(this.utilService.timeStringServiceToStringFormat(data[0].aco_dfhotermino));\r\n    this.forma.controls.codTipo.setValue(data[0].aco_scodtipodescuento);\r\n    this.forma.controls.tipo.setValue(data[0].sdestipodescuento);\r\n\r\n    this.estructuraListado = data[0].aco_scodtipoestructura;\r\n  }\r\n\r\n  cargarListadoEstructurasComerciales(data){\r\n    console.log('data en carga estrcuruas', data);\r\n    for(let i in data){\r\n      let estructura = {\r\n        bCheck: this.checkEstructuraSeleccionada,\r\n        pea_nidaccion: data[i].pea_nidaccion,\r\n        pea_scodtipodescuento: data[i].pea_scodtipodescuento,\r\n        pea_scodfuerzaventa: data[i].pea_scodfuerzaventa,\r\n        fvt_sdesfuerzavta: data[i].fvt_sdesfuerzavta,\r\n        pea_nrutoperador: data[i].pea_nrutoperador,\r\n        ope_snombre: data[i].ope_snombre,\r\n        pea_scodzona: data[i].pea_scodzona,\r\n        zon_sdeszona: data[i].zon_sdeszona,\r\n        pea_scodterritorio: data[i].pea_scodterritorio,\r\n        ter_sdesterritorio: data[i].ter_sdesterritorio,\r\n        pea_nrutcliente: data[i].pea_nrutcliente,\r\n        pea_nnumlocal: data[i].pea_nnumlocal,\r\n        pea_scodrelcomercial: data[i].pea_scodrelcomercial,\r\n        rel_sdescripcionrelacioncomerc: data[i].rel_sdescripcionrelacioncomerc,\r\n        cli_snombre: data[i].cli_snombre,\r\n        cli_sapepaterno: data[i].cli_sapepaterno,\r\n        cli_sapematerno: data[i].cli_sapematerno,\r\n        pea_scodcatnegocio: data[i].pea_scodcatnegocio,\r\n        can_sdescatnegocio: data[i].can_sdescatnegocio\r\n      }\r\n      this.estructurasAccionesComerciales.push(estructura);\r\n    }\r\n  }\r\n\r\n  cargarListadoJerarquiasComerciales(data){\r\n    console.log('data en carga jerarquias', data);\r\n    for(let i in data){\r\n      let estructura = {\r\n        bCheck: false,\r\n        art_sdescripcion: data[i].art_sdescripcion,\r\n        dac_nidaccion: data[i].dac_nidaccion,\r\n        dac_nporcdescto: data[i].dac_nporcdescto,\r\n        dac_scodagrupacion: data[i].dac_scodagrupacion,\r\n        dac_scodcategoria: data[i].dac_scodcategoria,\r\n        dac_scodformato: data[i].dac_scodformato,\r\n        dac_scodlinea: data[i].dac_scodlinea,\r\n        dac_scodpais: data[i].dac_scodpais,\r\n        dac_scodproducto: data[i].dac_scodproducto,\r\n        dac_scodtipodescuento: data[i].dac_scodtipodescuento,\r\n        dac_scodvariedad: data[i].dac_scodvariedad,\r\n        jpb_sdesproductobase: data[i].jpb_sdesproductobase\r\n      }\r\n      this.articulosJerarquia.push(estructura);\r\n    }\r\n\r\n    if(this.articulosJerarquia.length > 0){\r\n      this.forma.controls.porcDescuento.setValue(this.articulosJerarquia[0].dac_nporcdescto);\r\n    } \r\n  }\r\n\r\n  verModales(){\r\n    if(this.estructurasAccionesComerciales.length > 0 && (this.forma.controls.tipoEstructura.value === 'COMBI' || this.forma.controls.tipoEstructura.value === '' )){\r\n      this.forma.controls.tipoEstructura.setValue('LINEA');\r\n      swal('Atención', 'Debe Eliminar Estructura ingresada antes de cambiar el Tipo', 'info');\r\n    }else if(this.estructurasAccionesComerciales.length > 0 && (this.forma.controls.tipoEstructura.value === 'LINEA' || this.forma.controls.tipoEstructura.value === '')){\r\n      this.forma.controls.tipoEstructura.setValue('COMBI');\r\n      swal('Atención', 'Debe Eliminar Estructura ingresada antes de cambiar el Tipo', 'info');\r\n    }\r\n    \r\n    if(this.forma.controls.tipoEstructura.value === 'COMBI'){\r\n      this.verModal = false;\r\n    }\r\n    else{\r\n      this.verModal = true;\r\n    }\r\n\r\n    this.limpiar();\r\n  }\r\n\r\n  validarFechas(fecha){\r\n    let dateValid = this.utilService.DateValidator(fecha.value);\r\n    if(!dateValid){\r\n      fecha.value = this.utilService.dateToStringFormat(this.fechaActual);\r\n    }\r\n  }\r\n\r\n  validaVigenciaTermino(){\r\n    console.log(this.forma.controls.fechaVigencia.value());\r\n    console.log(this.forma.controls.fechaTermino.value());\r\n\r\n  }\r\n\r\n  validaCheckTitulo(){\r\n    this.checkTituloSeleccionado = !this.checkTituloSeleccionado;\r\n    if(this.checkTituloSeleccionado){\r\n      console.log('realizar accion');\r\n\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        this.estructurasAccionesComerciales[i].bCheck = true;\r\n      }\r\n      \r\n    }else{\r\n      console.log('deshacer accion');\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        this.estructurasAccionesComerciales[i].bCheck = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validaCheckTituloJerarquia(){\r\n    this.checkTituloJerarquiaSeleccionado = !this.checkTituloJerarquiaSeleccionado;\r\n    if(this.checkTituloJerarquiaSeleccionado){\r\n      console.log('realizar accion');\r\n\r\n      for(let i in this.articulosJerarquia){\r\n        this.articulosJerarquia[i].bCheck = true;\r\n      }\r\n      \r\n    }else{\r\n      console.log('deshacer accion');\r\n      for(let i in this.articulosJerarquia){\r\n        this.articulosJerarquia[i].bCheck = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validaCheckEstructura(estructura){\r\n    estructura.bCheck = !estructura.bCheck;\r\n    if(estructura.bCheck){\r\n      console.log('checkeado');\r\n    }else{\r\n      console.log('NO checkeado');\r\n    }\r\n  }\r\n\r\n  validaCheckJerarquia(articulo){\r\n    articulo.bCheck = !articulo.bCheck;\r\n    if(articulo.bCheck){\r\n      console.log('checkeado');\r\n    }else{\r\n      console.log('NO checkeado');\r\n    }\r\n  }\r\n\r\n  agregar(){\r\n    this.puedeAgregar = false;\r\n    if(this.forma.controls.tipoEstructura.value === ''){\r\n      swal('Atención', 'Debe seleccionar el tipo de estructura antes de continuar', 'info');\r\n    }else if(this.forma.controls.tipoEstructura.value === 'COMBI' && !this.enUsoFzaVtas && !this.enOperador && !this.enCatNegocio && !this.enCliente){\r\n      swal('Atención', 'Debe seleccionar algun elemento de la estructura para agregar', 'info');\r\n    }else{\r\n      console.log('agregar estructura al listado');\r\n      if(this.forma.controls.tipoEstructura.value === 'LINEA'){\r\n        this.estructuraListado = 'LINEA';\r\n        let objeto = \r\n        {\r\n          bCheck:false,\r\n          pea_scodfuerzaventa: this.forma.controls.codFuerzaVenta.value,\r\n          fvt_sdesfuerzavta: this.forma.controls.desFuerzaVenta.value === '' ? ' ' : this.forma.controls.desFuerzaVenta.value,\r\n          pea_nrutoperador: this.forma.controls.codOperador.value === '' ? 0 : this.forma.controls.codOperador.value,\r\n          ope_snombre: this.forma.controls.descOperador.value === '' ? ' ' : this.forma.controls.descOperador.value,\r\n          pea_scodzona: this.forma.controls.codZona.value,\r\n          zon_sdeszona: this.forma.controls.descZona.value === '' ? ' ' : this.forma.controls.descZona.value,\r\n          pea_scodterritorio: this.forma.controls.codTerritorio.value,\r\n          ter_sdesterritorio: this.forma.controls.descTerritorio.value === '' ? ' ' : this.forma.controls.descTerritorio.value,\r\n          pea_scodcatnegocio: this.forma.controls.codCatNegocio.value,\r\n          can_sdescatnegocio: this.forma.controls.desCatNegocio.value === '' ? ' ' : this.forma.controls.desCatNegocio.value,\r\n          pea_nrutcliente: this.forma.controls.rutCliente.value === '' ? 0 : this.forma.controls.rutCliente.value,\r\n          cli_snombre: this.forma.controls.nombreCliente.value === '' ? ' ' : this.forma.controls.nombreCliente.value,\r\n          pea_nnumlocal: this.forma.controls.codNumLocal.value === '' ? 0 : this.forma.controls.codNumLocal.value,\r\n          pea_scodrelcomercial: this.forma.controls.codClienteLocal.value,\r\n          rel_sdescripcionrelacioncomerc : this.forma.controls.descClienteLocal.value === '' ? ' ' : this.forma.controls.descClienteLocal.value\r\n        }\r\n\r\n        //comparar objetos\r\n        this.comparaObjetos(this.estructurasAccionesComerciales, objeto);\r\n\r\n      }else{\r\n        this.estructuraListado = 'COMBI';\r\n        let objeto = \r\n        {\r\n          bCheck:false,\r\n          pea_scodfuerzaventa: this.forma.controls.codFuerzaVenta.value,\r\n          fvt_sdesfuerzavta: this.forma.controls.desFuerzaVenta.value,\r\n          pea_nrutoperador: this.forma.controls.codOperador.value === '' ? 0 : this.forma.controls.codOperador.value,\r\n          ope_snombre: this.forma.controls.descOperador.value,\r\n          pea_scodzona: this.forma.controls.codZona.value,\r\n          zon_sdeszona: this.forma.controls.descZona.value,\r\n          pea_scodterritorio: this.forma.controls.codTerritorio.value,\r\n          ter_sdesterritorio: this.forma.controls.descTerritorio.value,\r\n          pea_scodcatnegocio: this.forma.controls.codCatNegocio.value,\r\n          can_sdescatnegocio: this.forma.controls.desCatNegocio.value,\r\n          pea_nrutcliente: this.forma.controls.rutCliente.value === '' ? 0 : this.forma.controls.rutCliente.value,\r\n          cli_snombre: this.forma.controls.nombreCliente.value,\r\n          pea_nnumlocal: this.forma.controls.codNumLocal.value === '' ? 0 : this.forma.controls.codNumLocal.value,\r\n          pea_scodrelcomercial: this.forma.controls.codClienteLocal.value,\r\n          rel_sdescripcionrelacioncomerc : this.forma.controls.descClienteLocal.value\r\n        }\r\n        //comparar objetos\r\n        this.comparaObjetos(this.estructurasAccionesComerciales, objeto);\r\n      }\r\n     \r\n      this.limpiar();\r\n    }\r\n  }\r\n\r\n  comparaObjetos(estructurasAccionesComerciales, objeto){\r\n    console.log('estructurasAccionesComerciales comparaObjetos', estructurasAccionesComerciales);\r\n    if(estructurasAccionesComerciales.length > 0){\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        if(this.estructurasAccionesComerciales[i].fvt_sdesfuerzavta.trim() === objeto.fvt_sdesfuerzavta.trim() && this.estructurasAccionesComerciales[i].ope_snombre.trim() === objeto.ope_snombre.trim() &&\r\n          this.estructurasAccionesComerciales[i].zon_sdeszona.trim() === objeto.zon_sdeszona.trim() && this.estructurasAccionesComerciales[i].ter_sdesterritorio.trim() === objeto.ter_sdesterritorio.trim() &&\r\n          this.estructurasAccionesComerciales[i].can_sdescatnegocio.trim() === objeto.can_sdescatnegocio.trim() && this.estructurasAccionesComerciales[i].cli_snombre.trim() === objeto.cli_snombre.trim() &&\r\n          this.estructurasAccionesComerciales[i].rel_sdescripcionrelacioncomerc.trim() === objeto.rel_sdescripcionrelacioncomerc.trim() ){\r\n          swal('Atención', 'Ya existe una regla idéntica a la solicitada', 'warning');\r\n          this.puedeAgregar = false;\r\n          break;\r\n        }else{\r\n          this.puedeAgregar = true;\r\n        }\r\n      }\r\n      if(this.puedeAgregar){\r\n        this.estructurasAccionesComerciales.push(objeto);\r\n      }\r\n    }else{\r\n      this.estructurasAccionesComerciales.push(objeto);\r\n    }\r\n  }\r\n\r\n  eliminar(){\r\n    if(this.estructurasAccionesComerciales.length > 0){\r\n        swal({\r\n          title: 'Atención',\r\n          text: '¿Desea eliminar los productos seleccionados?',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#85b3cd',\r\n          confirmButtonText: 'Aceptar',\r\n          cancelButtonText: 'Cancelar',\r\n          closeOnConfirm: true\r\n        }, () => {\r\n          let j = this.estructurasAccionesComerciales.length;\r\n          for(let i=0; i<j; i++){\r\n            if(this.estructurasAccionesComerciales[i].bCheck === true){\r\n              this.estructurasAccionesComerciales.splice(this.estructurasAccionesComerciales.indexOf(this.estructurasAccionesComerciales[i]), 1);\r\n              i--;\r\n              j--;\r\n            }\r\n          }\r\n          this.checkTituloSeleccionado = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  eliminarJerarquia(){\r\n    if(this.articulosJerarquia.length > 0){\r\n        swal({\r\n          title: 'Atención',\r\n          text: '¿Desea eliminar los artículos seleccionados?',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#85b3cd',\r\n          confirmButtonText: 'Aceptar',\r\n          cancelButtonText: 'Cancelar',\r\n          closeOnConfirm: true\r\n        }, () => {\r\n          let j = this.articulosJerarquia.length;\r\n          for(let i=0; i<j; i++){\r\n            if(this.articulosJerarquia[i].bCheck === true){\r\n              this.articulosJerarquia.splice(this.articulosJerarquia.indexOf(this.articulosJerarquia[i]), 1);\r\n              i--;\r\n              j--;\r\n            }\r\n          }\r\n          this.checkTituloJerarquiaSeleccionado = false;\r\n        });\r\n      // }\r\n    }\r\n  }\r\n\r\n  limpiar(){\r\n    this.forma.controls.codFuerzaVenta.setValue('');\r\n    this.forma.controls.desFuerzaVenta.setValue('');\r\n    this.forma.controls.codOperador.setValue('');\r\n    this.forma.controls.descOperador.setValue('');\r\n    this.forma.controls.codZona.setValue('');\r\n    this.forma.controls.descZona.setValue('');\r\n    this.forma.controls.codTerritorio.setValue('');\r\n    this.forma.controls.descTerritorio.setValue('');\r\n    this.forma.controls.codCatNegocio.setValue('');\r\n    this.forma.controls.desCatNegocio.setValue('');\r\n    this.forma.controls.rutCliente.setValue('');\r\n    this.forma.controls.nombreCliente.setValue('');\r\n    this.forma.controls.codClienteLocal.setValue('');\r\n    this.forma.controls.descClienteLocal.setValue('');\r\n    this.enUsoFzaVtas = false;\r\n    this.enOperador = false; \r\n    this.enCatNegocio = false; \r\n    this.enCliente = false; \r\n  }\r\n\r\n  setArticulo(articulo){\r\n    if(articulo.value === ''){\r\n      this.verListaArticulo = false;\r\n    }\r\n    else{\r\n      this.verListaArticulo = true;\r\n    }\r\n  }\r\n\r\n  validaArticulo(articulo,descripcion){\r\n    let articuloExiste = false;\r\n    if(articulo.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n        if(str.startsWith(`${articulo.value}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          articulo.value = str;\r\n          descripcion.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          articuloExiste = true;\r\n          this.verListaArticulo = false;\r\n          this.seleccionaArticulo(this.parametrosAutocomplete[i], articulo, descripcion);\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articulo.value = '';\r\n        descripcion.value = '';\r\n        this.verListaArticulo = false;\r\n        this.verListaDescripcion = false;\r\n        articulo.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }\r\n  }\r\n\r\n  seleccionaArticulo(data, articulo, descripcion){\r\n    this.puedeAgregar = false;\r\n    let artSelected = {\r\n      dac_scodformato: data.art_scodformato,\r\n      dac_scodvariedad: data.art_scodvariedad,\r\n      art_sdescripcion: data.art_sdescripcion\r\n    }\r\n    if(this.articulosJerarquia.length > 0){\r\n      for(let i in this.articulosJerarquia){\r\n        if(this.articulosJerarquia[i].dac_scodformato === data.art_scodformato && this.articulosJerarquia[i].dac_scodvariedad === data.art_scodvariedad){\r\n          this.puedeAgregar = false;\r\n          break;\r\n        }\r\n        else{\r\n          this.puedeAgregar = true;\r\n        }\r\n      }\r\n      if(this.puedeAgregar){\r\n        this.articulosJerarquia.push(artSelected);\r\n      }else{\r\n        swal('Atención', 'Artículo registrado', 'warning');\r\n      }\r\n    }else{\r\n      this.articulosJerarquia.push(artSelected);\r\n    }\r\n    \r\n    articulo.value = '';\r\n    descripcion.value = '';\r\n    this.verListaArticulo = false;\r\n  }\r\n\r\n  \r\n  setDescripcion(descripcion){\r\n    if(descripcion.value === ''){\r\n      this.verListaDescripcion = false;\r\n    }\r\n    else{\r\n      this.verListaDescripcion = true;\r\n    }\r\n  }\r\n\r\n  validaDescripcion(articulo,descripcion){\r\n    let articuloExiste = false;\r\n    if(descripcion.value !== ''){\r\n      for(let i in this.parametrosAutocomplete){\r\n        let str = (this.parametrosAutocomplete[i].art_sdescripcion).toLowerCase();\r\n        if(str.startsWith(`${(descripcion.value).toLowerCase()}`)){\r\n          console.log(str, this.parametrosAutocomplete[i]);\r\n          articulo.value = `${this.parametrosAutocomplete[i].art_scodformato}-${this.parametrosAutocomplete[i].art_scodvariedad}`;\r\n          descripcion.value = this.parametrosAutocomplete[i].art_sdescripcion;\r\n          articuloExiste = true;\r\n          this.verListaDescripcion = false;\r\n          this.seleccionaDescripcion(this.parametrosAutocomplete[i], articulo, descripcion);\r\n          break;\r\n        }\r\n      }\r\n      if(!articuloExiste){\r\n        articulo.value = '';\r\n        descripcion.value = '';\r\n        this.verListaArticulo = false;\r\n        this.verListaDescripcion = false;\r\n        articulo.focus();\r\n        swal('Atención', 'Artículo no existe', 'warning'); \r\n      }\r\n    }\r\n  }\r\n\r\n  seleccionaDescripcion(data, articulo, descripcion){\r\n    this.puedeAgregar = false;\r\n    let artSelected = {\r\n      dac_scodformato: data.art_scodformato,\r\n      dac_scodvariedad: data.art_scodvariedad,\r\n      art_sdescripcion: data.art_sdescripcion\r\n    }\r\n    if(this.articulosJerarquia.length > 0){\r\n      for(let i in this.articulosJerarquia){\r\n        if(this.articulosJerarquia[i].dac_scodformato === data.art_scodformato && this.articulosJerarquia[i].dac_scodvariedad === data.art_scodvariedad){\r\n          this.puedeAgregar = false;\r\n          break;\r\n        }\r\n        else{\r\n          this.puedeAgregar = true;\r\n        }\r\n      }\r\n      if(this.puedeAgregar){\r\n        this.articulosJerarquia.push(artSelected);\r\n      }else{\r\n        swal('Atención', 'Artículo registrado', 'warning');\r\n      }\r\n    }else{\r\n      this.articulosJerarquia.push(artSelected);\r\n    }\r\n    \r\n    descripcion.value = '';\r\n    articulo.value = '';\r\n    this.verListaDescripcion = false;\r\n  }\r\n\r\n  validaFechasVigenciaTermino(){\r\n    this.grabaEncabezado = true;\r\n\r\n    let vigencia = new Date(`${this.forma.controls.fechaVigencia.value}:${this.forma.controls.horaVigencia.value}:00`);\r\n    let termino = new Date(`${this.forma.controls.fechaTermino.value}:${this.forma.controls.horaTermino.value}:00`);\r\n\r\n    if(vigencia < new Date()){\r\n      swal('Atención', 'La fecha y hora de inicio y no puede ser inferior a la fecha y hora actual', 'warning');\r\n      this.grabaEncabezado = false;\r\n    }else if(termino < vigencia){\r\n      swal('Atención', 'La fecha y hora de término no puede ser inferior a la fecha y hora inicio', 'warning');\r\n      this.grabaEncabezado = false;\r\n    }\r\n  }\r\n\r\n  guardaDescuento(){\r\n    console.log(this.forma);\r\n    if(this.estructurasAccionesComerciales.length === 0){\r\n      swal('Atención', 'Debe ingresar datos en la Estructura Comercial', 'warning');\r\n    }else{\r\n      this.grabaEstructuras = true;\r\n      if(this.forma.valid){\r\n        $('*').removeClass('error-form');\r\n        \r\n        //valida fechas vigencia y termino\r\n        this.validaFechasVigenciaTermino();\r\n        \r\n        if(this.articulosJerarquia.length === 0){\r\n          swal('Atención', 'Debe ingresar datos en Jerarquía de Productos', 'warning');\r\n        }else{\r\n          this.grabaJerarquias = true;\r\n        }\r\n      }else{\r\n        swal('Atención', 'Existen campos requeridos no ingresados', 'warning' );\r\n        if(!this.forma.controls.fechaVigencia.valid){\r\n          $('[name=fechaVigencia]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=fechaVigencia]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.horaVigencia.valid){\r\n          $('[name=horaVigencia]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=horaVigencia]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.descripcion.valid){\r\n          $('[name=descripcion]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=descripcion]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.fechaTermino.valid){\r\n          $('[name=fechaTermino]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=fechaTermino]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.horaTermino.valid){\r\n          $('[name=horaTermino]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=horaTermino]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.tipo.valid){\r\n          $('[name=tipo]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=tipo]').removeClass('error-form');\r\n        }\r\n        if(!this.forma.controls.porcDescuento.valid || this.forma.controls.porcDescuento.value === 0 ){\r\n          $('[name=porcDescuento]').addClass('error-form');\r\n        }\r\n        else{\r\n          $('[name=porcDescuento]').removeClass('error-form');\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(this.grabaEstructuras, this.grabaEncabezado, this.grabaJerarquias);\r\n    if(this.grabaEstructuras && this.grabaEncabezado && this.grabaJerarquias){\r\n      //grabar descuento\r\n\r\n      //prepara encabezadoDcto del request\r\n      this.requestGrabar.encabezadoDcto = {\r\n        nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n        nRunUsuarioCrea: this.authService.getDatosUser().nrunusuario,\r\n        sCodTipoAccion: 'DESCU',\r\n        sCodTipoDescuento: this.nuevaAccionComercial ? this.forma.controls.tipo.value : this.forma.controls.codTipo.value,\r\n        sCodTipoEstructura: this.forma.controls.tipoEstructura.value,\r\n        sDescripcion: this.forma.controls.descripcion.value,\r\n        sFhoinicio: (this.forma.controls.fechaVigencia.value).replace(/-/g, '') + (this.forma.controls.horaVigencia.value).replace(':', '') + '00',\r\n        sFhotermino: (this.forma.controls.fechaTermino.value).replace(/-/g, '') + (this.forma.controls.horaTermino.value).replace(':', '') + '00',\r\n      }\r\n\r\n      //prepara estructuraComercial del request\r\n      this.estructurasAccionesComercialesRequest = [];\r\n      console.log('this.estructurasAccionesComerciales',this.estructurasAccionesComerciales );\r\n      for(let i in this.estructurasAccionesComerciales){\r\n        let estructura = {\r\n          nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n          nNomCliente: this.estructurasAccionesComerciales[i].cli_snombre.trim(),\r\n          nNumLocal: this.estructurasAccionesComerciales[i].pea_nnumlocal,\r\n          nRutCliente: this.estructurasAccionesComerciales[i].pea_nrutcliente,\r\n          nRutOperador: this.estructurasAccionesComerciales[i].pea_nrutoperador,\r\n          sCodCatNegocio: this.estructurasAccionesComerciales[i].pea_scodcatnegocio,\r\n          sCodFuerzaVenta: this.estructurasAccionesComerciales[i].pea_scodfuerzaventa,\r\n          sCodRelacionComercial: this.estructurasAccionesComerciales[i].pea_scodrelcomercial,\r\n          sCodTerritorio: this.estructurasAccionesComerciales[i].pea_scodterritorio,\r\n          sCodTipoSDescuento: this.nuevaAccionComercial ? this.forma.controls.tipo.value : this.forma.controls.codTipo.value,\r\n          sCodZona: this.estructurasAccionesComerciales[i].pea_scodzona\r\n        }\r\n        this.estructurasAccionesComercialesRequest.push(estructura);\r\n      }\r\n\r\n      this.requestGrabar.estructuraComercial = this.estructurasAccionesComercialesRequest;\r\n\r\n      //prepara jerarquiaProducto del request\r\n      this.articulosJerarquiaRequest = [];\r\n      for(let i in this.articulosJerarquia){\r\n        let articulo = {\r\n          nIdAccionComercial: this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value,\r\n          nPorcDescto: Number(this.forma.controls.porcDescuento.value),\r\n          sCodFormato: this.articulosJerarquia[i].dac_scodformato,\r\n          sCodPais: 'CHL',\r\n          sCodTipoDescuento: this.nuevaAccionComercial ? this.forma.controls.tipo.value : this.forma.controls.codTipo.value,\r\n          sCodVariedad: this.articulosJerarquia[i].dac_scodvariedad\r\n        }\r\n        this.articulosJerarquiaRequest.push(articulo);\r\n      }\r\n\r\n      this.requestGrabar.jerarquiaProducto = this.articulosJerarquiaRequest;\r\n      \r\n      this.requestGrabar.lSalIdAccionComercial = this.forma.controls.numero.value === '' ? 0 : this.forma.controls.numero.value;\r\n      \r\n\r\n      console.log('this.requestGrabar', this.requestGrabar);\r\n      console.log('estructurasAccionesComerciales', this.estructurasAccionesComerciales);\r\n      console.log('articulosJerarquia', this.articulosJerarquia);\r\n\r\n      this.cargador.show();\r\n      this.administracionComercialService.creaAccionComercialDscto(this.requestGrabar)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        console.log('data graba descuento', data);\r\n        if(data.error.codError !== 0){\r\n          swal('Atención', data.error.msjError, 'error');\r\n        } else{\r\n          swal('Atención',`Se ha guardado la Acción Comercial [${data.lIdAccionComercial}]`, 'success');\r\n          this.router.navigate(['/administracionComercial/accionesComerciales']);\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n         swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  inhabilitarAccion(){\r\n    swal({\r\n      title: 'Atención',\r\n      text: '¿Está seguro que desea inhabilitar la Acción Comercial?',\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#85b3cd',\r\n      confirmButtonText: 'Aceptar',\r\n      cancelButtonText: 'Cancelar',\r\n      closeOnConfirm: true\r\n    }, () => {\r\n        this.request = {\r\n        nIdAccion: this.forma.controls.numero.value,\r\n        nRutUsuarioActualiza: this.authService.getDatosUser().nrunusuario,\r\n        sCodTipoDescuento: this.forma.controls.codTipo.value\r\n       }\r\n  \r\n      console.log('request inhabilitar', this.request);\r\n  \r\n      this.cargador.show();\r\n        this.administracionComercialService.inhabilitaAccionComercial(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          console.log(data);\r\n          if(data.error.codError !== 0){\r\n            setTimeout(() => {\r\n              swal('Atención', data.error.msjError, 'error');\r\n            }, 250);\r\n          } else{\r\n            setTimeout(()=>{\r\n              swal('Atención',`Se ha inhabilitado la Acción Comercial`, 'success');\r\n            },250);\r\n            this.router.navigate(['/administracionComercial/accionesComerciales']);\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          setTimeout(() => {\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          }, 250);\r\n        })\r\n    });\r\n  }\r\n\r\n  setData(resData){\r\n    console.log(resData);\r\n    if(resData != 0){\r\n      switch(this.origen) { \r\n        case 'fuerzaVenta': { \r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.desFuerzaVenta.setValue(resData.fvt_sdesfuerzavta);\r\n          this.enUsoFzaVtas = true;\r\n          break; \r\n        } \r\n        case 'operador': { \r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.descOperador.setValue(resData.ope_snombre); \r\n          this.enOperador = true;\r\n          break; \r\n        }\r\n        case 'zona': { \r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.codZona.setValue(resData.zon_scodzona);\r\n          this.forma.controls.descZona.setValue(resData.zon_sdeszona); \r\n          break; \r\n        }\r\n        case 'territorioAC': { \r\n          this.forma.controls.codFuerzaVenta.setValue(resData.fvt_scodfuerzavta);\r\n          this.forma.controls.codOperador.setValue(resData.ofv_nrutoperador);\r\n          this.forma.controls.codZona.setValue(resData.zon_scodzona);\r\n          this.forma.controls.codTerritorio.setValue(resData.ter_scodterritorio);\r\n          this.forma.controls.descTerritorio.setValue(resData.ter_sdesterritorio); \r\n          break; \r\n        } \r\n        case 'catNegocio': { \r\n          this.forma.controls.codCatNegocio.setValue(resData.can_scodcatnegocio);\r\n          this.forma.controls.desCatNegocio.setValue(resData.can_sdescatnegocio);\r\n          this.enCatNegocio = true;\r\n          break; \r\n        } \r\n        case 'cliente': { \r\n          this.forma.controls.rutCliente.setValue(resData.cli_nrutcliente);\r\n          this.forma.controls.dvRutCliente.setValue(resData.cli_sdigverificador);\r\n          this.forma.controls.nombreCliente.setValue(resData.cli_snombre);\r\n          this.enCliente = true;\r\n          break; \r\n        } \r\n        case 'clienteRC': { \r\n          this.forma.controls.codNumLocal.setValue(resData.rco_nnumlocal);\r\n          this.forma.controls.codClienteLocal.setValue(resData.rco_scodrelacioncomercial);\r\n          this.forma.controls.descClienteLocal.setValue(resData.rel_sdescripcionrelacioncomerc);\r\n          this.forma.controls.rutCliente.setValue(resData.cli_nrutcliente);\r\n          this.forma.controls.dvRutCliente.setValue(resData.cli_sdigverificador);\r\n          this.forma.controls.nombreCliente.setValue(resData.cli_snombre);\r\n          break; \r\n        } \r\n      } \r\n    }\r\n    $('body').removeClass('modal-open');\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule} from '@angular/router';\r\nimport { Ng2TableModule } from 'ng2-table/ng2-table';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { CommonPopUpModule } from '../commonPopUp/commonPopUp.module';\r\n\r\n\r\nimport { DescuentosFuncionalesComponent } from './descuentosFuncionales/descuentosFuncionales.component';\r\nimport { AccionesComercialesComponent } from './accionesComerciales/accionesComerciales.component';\r\nimport { DetalleDescuentoComercialComponent } from './accionesComerciales/detalleDescuentoComercial/detalleDescuentoComercial.component';\r\nimport { EstructuraComercialComponent } from './estructuraComercial/estructuraComercial.component';\r\nimport { BuscarArticuloPopUpComponent } from '../commonPopUp/buscarArticuloPopUp/buscarArticuloPopUp.component';\r\nimport { CategoriaNegocioPopUpComponent } from '../commonPopUp/categoriaNegocioPopUp/categoriaNegocioPopUp.component';\r\nimport { PreciosComponent } from './precios/precios.component';\r\nimport { ZonasPopUpComponent } from '../commonPopUp/zonasPopUp/zonasPopUp.component';\r\nimport { TerritoriosPopUpComponent } from '../commonPopUp/territoriosPopUp/territoriosPopUp.component';\r\nimport { ClienteACPopUpComponent } from '../commonPopUp/clienteACPopUp/clienteACPopUp.component'\r\nimport { ClienteRelComercialPopUpComponent } from '../commonPopUp/clienteRelComercialPopUp/clienteRelComercialPopUp.component';\r\nimport { DetalleBonificacionComercialComponent } from './accionesComerciales/detalleBonificacionComercial/detalleBonificacionComercial.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'accionesComerciales', component: AccionesComercialesComponent },\r\n  { path: 'descuentosFuncionales', component: DescuentosFuncionalesComponent },\r\n  { path: 'estructuraComercialOperador', component: EstructuraComercialComponent },\r\n  { path: 'precios', component: PreciosComponent },\r\n  { path: 'detalleDescuentoComercial', component: DetalleDescuentoComercialComponent },\r\n  { path: 'detalleBonificacionComercial', component: DetalleBonificacionComercialComponent }\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild(routes),\r\n    Ng2TableModule,\r\n    NgxDatatableModule,\r\n    NgxPaginationModule,\r\n    CommonPopUpModule\r\n  ],\r\n  declarations: [\r\n    DescuentosFuncionalesComponent,\r\n    AccionesComercialesComponent,\r\n    DetalleDescuentoComercialComponent,\r\n    EstructuraComercialComponent,\r\n    PreciosComponent,\r\n    DetalleBonificacionComercialComponent\r\n  ],\r\n  \r\n  entryComponents: [ BuscarArticuloPopUpComponent, CategoriaNegocioPopUpComponent, ZonasPopUpComponent,\r\n                     TerritoriosPopUpComponent, ClienteACPopUpComponent, ClienteRelComercialPopUpComponent ]\r\n})\r\nexport class AdministracionComercialModule { }\r\n","module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Descuentos Funcionales</h4>\\r\\n    </div>\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Línea</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codLinea\\\" name=\\\"codLinea\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaLinea()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descLinea\\\" name=\\\"descLinea\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('linea', 'Líneas')\\\">\\r\\n                            <em class=\\\"icon-magnifier\\\"></em>\\r\\n                          </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">C&oacute;d. Art&iacute;culo</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codArtFormato\\\" name=\\\"codArtFormato\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codArtVariedad\\\" name=\\\"codArtVariedad\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Categor&iacute;a</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codCategoria\\\" name=\\\"codCategoria\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaCategoria()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descCategoria\\\" name=\\\"descCategoria\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('categoria', 'Categorías')\\\">\\r\\n                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                      </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">C&oacute;d. Nestl&eacute;</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codNestle\\\" name=\\\"codNestle\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Agrupaci&oacute;n</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codAgrupacion\\\" name=\\\"codAgrupacion\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaAgrupacion()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descAgrupacion\\\" name=\\\"descAgrupacion\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('agrupacion', 'Agrupaciones')\\\">\\r\\n                          <em class=\\\"icon-magnifier\\\"></em>\\r\\n                        </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Estado</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <select class=\\\"form-control pv-0\\\" formControlName=\\\"estado\\\" name=\\\"estado\\\">\\r\\n                                <option *ngFor=\\\"let userEstado of estado\\\" [ngValue]=\\\"userEstado.codEstado\\\">{{userEstado.descEstado}}</option>\\r\\n                      </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <div class=\\\"col-lg-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Prod. Base</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codProdBase\\\" name=\\\"codProdBase\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaProdBase()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descProdBase\\\" name=\\\"descProdBase\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModal('prodbase', 'Productos Base')\\\">\\r\\n                              <em class=\\\"icon-magnifier\\\"></em>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Cat. Negocio</label>\\r\\n                    <div class=\\\"col-sm-5 pl0\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codCatNegocio\\\" name=\\\"codCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaCatNegocio()\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descCatNegocio\\\" name=\\\"descCatNegocio\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalCatNegocio()\\\">\\r\\n                              <em class=\\\"icon-magnifier\\\"></em>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" (click)=\\\"buscar($event)\\\" type=\\\"button\\\">Buscar</button>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <hr>\\r\\n\\r\\n        <div class=\\\"panel-heading pl-0 mt-4\\\">\\r\\n            <h4 class=\\\"mv-0\\\">Coincidencias</h4>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-12 pl-0\\\">\\r\\n                <div class=\\\"col-sm-5 ph-0\\\">\\r\\n                    <div class=\\\"col-sm-3 pr-0\\\">\\r\\n                        <div class=\\\"radio c-radio\\\">\\r\\n                            <label class=\\\"text-bold fs-custom-11\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"descFuncRadio\\\" value=\\\"global\\\" [disabled]='!actionBtns' (click)=\\\"radioGlobal()\\\" checked/><span class=\\\"fa fa-circle\\\"></span>Global</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-3 ph-0\\\">\\r\\n                        <div class=\\\"radio c-radio\\\">\\r\\n                            <label class=\\\"text-bold fs-custom-11\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"descFuncRadio\\\" value=\\\"individual\\\" [disabled]='!actionBtns' (click)=\\\"radioIndividual()\\\" /><span class=\\\"fa fa-circle\\\"></span>Individual</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-3 lh-40 ph-1 fs-custom-11 text-right\\\">Descuento Global</label>\\r\\n                    <div class=\\\"col-sm-2 ph-1 w-90\\\">\\r\\n                        <input appDecimalNumber name=\\\"desGlobal\\\" step=\\\"0.01\\\" [(ngModel)]=\\\"desGlobal\\\" class=\\\"form-control mt-1 ph-2 text-right\\\" type=\\\"number\\\" (focusout)=\\\"actualizarPorcentajeNuevo()\\\" [disabled]='verIndividual || !actionBtns' maxlength=\\\"9\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-5 pl-0\\\">\\r\\n                    <label class=\\\"col-sm-1 lh-40 ph-0 text-right fs-custom-11\\\">Desde</label>\\r\\n                    <div class=\\\"col-sm-4 pl-1 pr-1\\\">\\r\\n                        <input *ngIf=\\\"editFechaDesde\\\" class=\\\"form-control w-110 mt-1 ph-1\\\" name=\\\"fechaDesde\\\" type=\\\"date\\\" [(ngModel)]=\\\"fechaDesde\\\" (focusout)=\\\"actualizarFechaDesde()\\\" [disabled]='verIndividual || !actionBtns' />\\r\\n                        <span *ngIf=\\\"!editFechaDesde\\\" class=\\\"form-control w-110 mt-1 pad-3\\\" (click)=\\\"editarFechaDesde()\\\">{{fechaDesde | date :\\\"dd/MM/yyyy\\\"}}</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-3 pl-1\\\">\\r\\n                        <input class=\\\"form-control mt-1 pr-1\\\" name=\\\"horaDesde\\\" type=\\\"time\\\" [(ngModel)]=\\\"horaDesde\\\" (focusout)=\\\"actualizarHoraDesde()\\\" [disabled]='verIndividual || !actionBtns' />\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n            <div class=\\\"col-sm-1\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" type=\\\"button\\\" (click)=\\\"guardar()\\\" [disabled]='((!verGlobal && !verIndividual) || (!actionBtns))'>Guardar</button>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-1\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" [disabled]=\\\"!exportar\\\" (click)=\\\"generateExcel()\\\">Exportar</button>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"table overflow-x-auto\\\">\\r\\n            <table class=\\\"table table-striped table-hover\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th colspan=\\\"7\\\"></th>\\r\\n                        <th colspan=\\\"4\\\">Valores Actuales</th>\\r\\n                        <th colspan=\\\"4\\\">Valores nuevos</th>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <th>LN</th>\\r\\n                        <th>CT</th>\\r\\n                        <th>AG</th>\\r\\n                        <th>PB</th>\\r\\n                        <th class=\\\"mw-80 text-center\\\">Cod. Art.</th>\\r\\n                        <th>Cod. Nestlé</th>\\r\\n                        <th>Descripción</th>\\r\\n                        <th>P. Base</th>\\r\\n                        <th>% Dsc.</th>\\r\\n                        <th>PNV</th>\\r\\n                        <th>Desde</th>\\r\\n                        <th>% Nuevo</th>\\r\\n                        <th colspan=\\\"2\\\">Desde</th>\\r\\n                        <th>$ Nuevo</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let articulo of articulos | paginate: {itemsPerPage: 7, currentPage: pageActual};\\\">\\r\\n                        <td>{{articulo.jli_scodlinea}}</td>\\r\\n                        <td>{{articulo.jca_scodcategoria}}</td>\\r\\n                        <td>{{articulo.jag_scodagrupacion}}</td>\\r\\n                        <td>{{articulo.jpb_scodproductobase}}</td>\\r\\n                        <td class=\\\"text-center\\\">{{articulo.art_scodformato}} - {{articulo.art_scodvariedad}}</td>\\r\\n                        <td>{{articulo.art_scodsap}}</td>\\r\\n                        <td>{{articulo.art_sdescripcion }}</td>\\r\\n                        <td class=\\\"text-right\\\">{{articulo.pra_nprecio | number:'':'es' }}</td>\\r\\n                        <td class=\\\"text-right\\\">{{articulo.def_nporcdescto > 100 ? 0 : articulo.def_nporcdescto}}</td>\\r\\n                        <td class=\\\"text-right\\\">{{ ( articulo.pra_nprecio * ((100 - (articulo.def_nporcdescto > 100 ? 0 : articulo.def_nporcdescto))/100) ) | number:'':'es' }}</td>\\r\\n                        <td>{{articulo.sfhoinicioactual | fecha }}</td>\\r\\n                        <td class=\\\"\\\" *ngIf=\\\"articulo.art_scodsap === editRowID\\\"><input appDecimalNumber type=\\\"number\\\" step=\\\"0.01\\\" [(ngModel)]=\\\"articulo.p_nuevo\\\" (focusout)=\\\"calcularPrecioNuevo(articulo)\\\" class=\\\"form-control w-90 mt-1 text-right\\\" maxlength=\\\"9\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"></td>\\r\\n                        <td class=\\\"text-right\\\" *ngIf=\\\"articulo.art_scodsap !== editRowID\\\"><span class=\\\"form-control w-90 mt-1 pad-3\\\">{{ articulo.p_nuevo | number:'.0-2':'es' }}</span></td>\\r\\n                        <td class=\\\"\\\" *ngIf=\\\"articulo.art_scodsap === editRowID\\\"><input type=\\\"date\\\" [(ngModel)]=\\\"articulo.fecha_actual\\\" (focusout)=\\\"validarFechaActual(articulo)\\\" class=\\\"form-control w-110 mt-1 pad-x-3\\\"></td>\\r\\n                        <td class=\\\"\\\" *ngIf=\\\"articulo.art_scodsap !== editRowID\\\"><span class=\\\"form-control w-110 mt-1 pad-3\\\">{{articulo.fecha_actual | date :\\\"dd/MM/yyyy\\\"}}</span></td>\\r\\n                        <td class=\\\"\\\" *ngIf=\\\"articulo.art_scodsap === editRowID\\\"><input type=\\\"time\\\" [(ngModel)]=\\\"articulo.sfhoinicionuevo\\\" (focusout)=\\\"validarHoraActual(articulo)\\\" class=\\\"form-control w-70 mt-1 pad-x-3\\\"></td>\\r\\n                        <td *ngIf=\\\"articulo.art_scodsap !== editRowID\\\"><span class=\\\"form-control w-70 mt-1 pad-3\\\">{{articulo.sfhoinicionuevo}}</span></td>\\r\\n                        <td class=\\\"\\\" *ngIf=\\\"articulo.art_scodsap === editRowID\\\"><input appNaturalNumber type=\\\"number\\\" [(ngModel)]=\\\"articulo.precio_nuevo\\\" (focusout)=\\\"calcularPorcentajeNuevo(articulo)\\\" class=\\\"form-control w-80 mt-1 text-right\\\"></td>\\r\\n                        <td class=\\\"text-right\\\" *ngIf=\\\"articulo.art_scodsap !== editRowID\\\"><span class=\\\"form-control w-80 mt-1 pad-3\\\">{{ articulo.precio_nuevo | number:'.0-0':'es' }}</span></td>\\r\\n                        <td *ngIf=\\\"verIndividual\\\">\\r\\n                            <span *ngIf=\\\"!articulo.verOK\\\" class=\\\"table-remove\\\">\\r\\n                                <a class=\\\"text\\\" (click)=\\\"edit(articulo)\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Editar\\\">\\r\\n                                    <em class=\\\"fa fa-edit\\\"></em>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                            <span *ngIf=\\\"articulo.verOK\\\" class=\\\"table-remove\\\">\\r\\n                                <a class=\\\"text\\\"(click)=\\\"save(articulo)\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Guardar\\\">\\r\\n                                    <em class=\\\"fa fa-check\\\"></em>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"text-right pt-3\\\">\\r\\n            <pagination-controls (pageChange)=\\\"pageActual = $event\\\" previousLabel=\\\"Anterior\\\" nextLabel=\\\"Siguiente\\\" autoHide=\\\"true\\\"></pagination-controls>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \".pad-3{padding-top:3px}.pad-x-3{padding-left:3px;padding-right:3px}\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\nimport { registerLocaleData, Time } from '@angular/common';\r\nimport es from '@angular/common/locales/es';\r\n\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ExcelService } from '../../../core/excel/excel.service';\r\nimport { ConsultasService } from '../../../core/consultaService/consultas.service';\r\nimport { UtilService } from '../../../services/util.service';\r\nimport { AuthService } from '../../../core/consultaService/auth.service';\r\n\r\nimport { BuscarArticuloPopUpComponent } from './../../commonPopUp/buscarArticuloPopUp/buscarArticuloPopUp.component';\r\nimport { CategoriaNegocioPopUpComponent } from '../../commonPopUp/categoriaNegocioPopUp/categoriaNegocioPopUp.component';\r\nimport { AdministracionComercialService } from '../../../core/consultaService/administracionComercial.service';\r\nimport { log } from 'util';\r\nimport { ArticuloService } from '../../../core/consultaService/articulo.service';\r\n\r\n\r\nconst swal = require('sweetalert');\r\n\r\ndeclare var jQuery:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  selector: 'app-descuentos-funcionales',\r\n  templateUrl: './descuentosFuncionales.component.html',\r\n  styleUrls: ['./descuentosFuncionales.component.scss']\r\n})\r\nexport class DescuentosFuncionalesComponent implements OnInit, OnDestroy {\r\n\r\n  forma: FormGroup;\r\n  pageActual = 1;\r\n\r\n  request: any = {};\r\n\r\n  requestGuardar = [];\r\n\r\n  articulos: Array <any> = [];\r\n\r\n  showEditTable = false;\r\n  editRowID: any;\r\n\r\n  bsModalRef: BsModalRef;\r\n\r\n  estado: Array<any> = [\r\n    {\r\n      codEstado: null,\r\n      descEstado: '(Todos)' \r\n    },\r\n    {\r\n      codEstado: 'NOVIG',\r\n      descEstado: 'Inactivo' \r\n    },\r\n    {\r\n      codEstado: 'VIGEN',\r\n      descEstado: 'Activo' \r\n    }\r\n  ];\r\n  \r\n  composicion: Array<string> = [\r\n      'Todos',\r\n      'Inactivo'\r\n    ];\r\n\r\n  origen:string = '';\r\n  subData: any;\r\n\r\n  fechaActual: Date;\r\n  fechaDesde: String;\r\n  horaDesde: Time;\r\n\r\n  verIndividual = false;\r\n  verGlobal = true;\r\n  actionBtns = false;\r\n  editFechaDesde = false;\r\n\r\n  desGlobal:number;\r\n\r\n  categoriaNegocio:string;\r\n\r\n  shorainicionuevo:string;\r\n\r\n  sfechainicionuevo:string;\r\n\r\n  datos: Array <any> = [];\r\n\r\n  exportar = false;\r\n\r\n  constructor(fb: FormBuilder, public http: HttpClient, private excelService: ExcelService,private modalService: BsModalService,\r\n              private consultasService:ConsultasService, private administracionComercialService:AdministracionComercialService,\r\n              public cargador: NgxSpinnerService, private utilService:UtilService, private authService:AuthService,\r\n              private articuloService: ArticuloService) { \r\n      this.forma = new FormGroup ({\r\n        codLinea: new FormControl(''),\r\n        descLinea: new FormControl({value:'', disabled:true }),\r\n        codArtFormato: new FormControl(''),\r\n        codArtVariedad: new FormControl(''),\r\n        codCategoria: new FormControl(''),\r\n        descCategoria: new FormControl({value:'', disabled:true }),\r\n        codNestle: new FormControl(''),\r\n        codAgrupacion: new FormControl(''),\r\n        descAgrupacion: new FormControl({value:'', disabled:true }),\r\n        estado: new FormControl(),\r\n        codProdBase: new FormControl(''),\r\n        descProdBase: new FormControl({value:'', disabled:true }),\r\n        codCatNegocio: new FormControl(''),\r\n        descCatNegocio: new FormControl({value:'', disabled:true }, Validators.required)\r\n      });\r\n   }\r\n\r\n  ngOnInit() {\r\n    console.log(this.forma);\r\n\r\n    registerLocaleData( es );\r\n\r\n    this.fechaActual = new Date();\r\n    this.fechaDesde = this.utilService.dateToStringFormat(this.fechaActual);\r\n\r\n    console.log('fecha format', `${this.fechaActual.getFullYear()}-${this.fechaActual.getMonth()+1}-${this.fechaActual.getDate()}`)\r\n\r\n    console.log('fecha', this.fechaActual);\r\n\r\n    this.subData = this.consultasService.datos$.subscribe(resData =>{\r\n      this.setData(resData);\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if(this.subData != undefined) {\r\n      this.subData.unsubscribe();\r\n    }\r\n  }\r\n\r\n  openModal(origen, titulo) {\r\n    this.origen = origen;\r\n    const initialState = {\r\n      titulo: titulo,\r\n      origen: origen\r\n    };\r\n    this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n  \r\n  openModalCatNegocio(){\r\n    this.origen = 'catNegocio';\r\n    const initialState = {\r\n      titulo: 'Categorías de Negocio',\r\n      origen: 'catNegocio'\r\n    };\r\n    this.bsModalRef = this.modalService.show(CategoriaNegocioPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n  validaLinea(){\r\n    if(this.forma.controls.codLinea.value === ''){\r\n      this.forma.controls.codLinea.setValue('');\r\n      this.forma.controls.descLinea.setValue('');\r\n      this.forma.controls.codCategoria.setValue('');\r\n      this.forma.controls.descCategoria.setValue('');\r\n      this.forma.controls.codAgrupacion.setValue('');\r\n      this.forma.controls.descAgrupacion.setValue('');\r\n      this.forma.controls.codProdBase.setValue('');\r\n      this.forma.controls.descProdBase.setValue('');\r\n    }else{\r\n      this.request.scodestado = 'VIGEN';\r\n      this.request.scodlinea = this.forma.controls.codLinea.value;\r\n      this.cargador.show();\r\n      this.articuloService.getLineas(this.request)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        if(data){\r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }else{\r\n              this.datos = data.articulo;\r\n              if(this.datos.length > 0){\r\n                this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea); \r\n                this.forma.controls.codCategoria.setValue('');\r\n                this.forma.controls.descCategoria.setValue('');\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue(''); \r\n              }else{\r\n                this.forma.controls.codLinea.setValue('');\r\n                this.forma.controls.descLinea.setValue('');\r\n                this.forma.controls.codCategoria.setValue('');\r\n                this.forma.controls.descCategoria.setValue('');\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue('');\r\n                swal('Atención', 'No Existe Línea', 'warning');\r\n              }\r\n            }\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  validaCategoria(){\r\n    if(this.forma.controls.codCategoria.value === ''){\r\n      this.forma.controls.codLinea.setValue('');\r\n      this.forma.controls.descLinea.setValue('');\r\n      this.forma.controls.codCategoria.setValue('');\r\n      this.forma.controls.descCategoria.setValue('');\r\n      this.forma.controls.codAgrupacion.setValue('');\r\n      this.forma.controls.descAgrupacion.setValue('');\r\n      this.forma.controls.codProdBase.setValue('');\r\n      this.forma.controls.descProdBase.setValue('');  \r\n    }else{\r\n      this.request.scodestado = 'VIGEN';\r\n      this.request.scodcategoria = this.forma.controls.codCategoria.value;\r\n      this.cargador.show();\r\n      this.articuloService.getCategorias(this.request)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        if(data){\r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }else{\r\n              this.datos = data.articulo;\r\n              if(this.datos.length > 0){\r\n                this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue(''); \r\n              }else{\r\n                this.forma.controls.codLinea.setValue('');\r\n                this.forma.controls.descLinea.setValue('');\r\n                this.forma.controls.codCategoria.setValue('');\r\n                this.forma.controls.descCategoria.setValue('');\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue('');\r\n                swal('Atención', 'No Existe Categoría', 'warning');\r\n              }\r\n            }\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  validaAgrupacion(){\r\n    if(this.forma.controls.codAgrupacion.value === ''){\r\n      this.forma.controls.codLinea.setValue('');\r\n      this.forma.controls.descLinea.setValue('');\r\n      this.forma.controls.codCategoria.setValue('');\r\n      this.forma.controls.descCategoria.setValue('');\r\n      this.forma.controls.codAgrupacion.setValue('');\r\n      this.forma.controls.descAgrupacion.setValue('');\r\n      this.forma.controls.codProdBase.setValue('');\r\n      this.forma.controls.descProdBase.setValue('');  \r\n    }else{\r\n      this.request.scodestado = 'VIGEN';\r\n      this.request.scodagrupacion = this.forma.controls.codAgrupacion.value;\r\n      this.cargador.show();\r\n      this.articuloService.getAgrupacion(this.request)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        if(data){\r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }else{\r\n              this.datos = data.articulo;\r\n              if(this.datos.length > 0){\r\n                this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                this.forma.controls.codAgrupacion.setValue(this.datos[0].jag_scodagrupacion);\r\n                this.forma.controls.descAgrupacion.setValue(this.datos[0].jag_sdesagrupacion); \r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue('');  \r\n              }else{\r\n                this.forma.controls.codLinea.setValue('');\r\n                this.forma.controls.descLinea.setValue('');\r\n                this.forma.controls.codCategoria.setValue('');\r\n                this.forma.controls.descCategoria.setValue('');\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue('');\r\n                swal('Atención', 'No Existe Agrupación', 'warning');\r\n              }\r\n            }\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  validaProdBase(){\r\n    if(this.forma.controls.codProdBase.value === ''){\r\n      this.forma.controls.codLinea.setValue('');\r\n      this.forma.controls.descLinea.setValue('');\r\n      this.forma.controls.codCategoria.setValue('');\r\n      this.forma.controls.descCategoria.setValue('');\r\n      this.forma.controls.codAgrupacion.setValue('');\r\n      this.forma.controls.descAgrupacion.setValue(''); \r\n      this.forma.controls.codProdBase.setValue('');\r\n      this.forma.controls.descProdBase.setValue('');\r\n    }else{\r\n      this.request.scodestado = 'VIGEN';\r\n      this.request.scodproductobase = this.forma.controls.codProdBase.value;\r\n      this.cargador.show();\r\n      this.articuloService.getProdBase(this.request)\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        console.log('data', data);\r\n        if(data){\r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }else{\r\n              this.datos = data.articulo;\r\n              if(this.datos.length > 0){\r\n                this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                this.forma.controls.codAgrupacion.setValue(this.datos[0].jag_scodagrupacion);\r\n                this.forma.controls.descAgrupacion.setValue(this.datos[0].jag_sdesagrupacion); \r\n                this.forma.controls.codProdBase.setValue(this.datos[0].jpb_scodproductobase);\r\n                this.forma.controls.descProdBase.setValue(this.datos[0].jpb_sdesproductobase);\r\n              }else{\r\n                this.forma.controls.codLinea.setValue('');\r\n                this.forma.controls.descLinea.setValue('');\r\n                this.forma.controls.codCategoria.setValue('');\r\n                this.forma.controls.descCategoria.setValue('');\r\n                this.forma.controls.codAgrupacion.setValue('');\r\n                this.forma.controls.descAgrupacion.setValue('');\r\n                this.forma.controls.codProdBase.setValue('');\r\n                this.forma.controls.descProdBase.setValue('');\r\n                swal('Atención', 'No Existe Producto Base', 'warning');\r\n              }\r\n            }\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n  validaCatNegocio(){\r\n    if(this.forma.controls.codCatNegocio.value === ''){\r\n      this.forma.controls.codCatNegocio.setValue('');\r\n      this.forma.controls.descCatNegocio.setValue('');\r\n    }else{\r\n      this.cargador.show();\r\n      this.administracionComercialService.getCategoriaNegocio()\r\n      .subscribe((data:any)=>{\r\n        this.cargador.hide();\r\n        console.log(data);\r\n        if(data){\r\n          let catNegocioExiste = false;\r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            }else{\r\n              for(let i in data.categoriaNegocio){\r\n                if(data.categoriaNegocio[i].can_scodcatnegocio === this.forma.controls.codCatNegocio.value){\r\n                  this.forma.controls.descCatNegocio.setValue(data.categoriaNegocio[i].can_sdescatnegocio);\r\n                  catNegocioExiste = true;\r\n                  break;\r\n                }\r\n              }\r\n              if(!catNegocioExiste){\r\n                this.forma.controls.codCatNegocio.setValue('');\r\n                this.forma.controls.descCatNegocio.setValue('');\r\n                swal('Atención', 'No Existe Categoría', 'warning');\r\n              }\r\n            }\r\n        }\r\n      },\r\n      error =>{\r\n        this.cargador.hide();\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  setData(resData){\r\n    console.log('resPrueba en setLinea', resData);\r\n    console.log('origen', this.origen);\r\n    if(resData != 0){\r\n      switch(this.origen) { \r\n        case 'linea': { \r\n          this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n          this.forma.controls.descLinea.setValue(resData.jli_sdeslinea); \r\n          this.forma.controls.codCategoria.setValue('');\r\n          this.forma.controls.descCategoria.setValue('');\r\n          this.forma.controls.codAgrupacion.setValue('');\r\n          this.forma.controls.descAgrupacion.setValue('');\r\n          this.forma.controls.codProdBase.setValue('');\r\n          this.forma.controls.descProdBase.setValue(''); \r\n          break; \r\n        } \r\n        case 'categoria': { \r\n          this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n          this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n          this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n          this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n          this.forma.controls.codAgrupacion.setValue('');\r\n          this.forma.controls.descAgrupacion.setValue('');\r\n          this.forma.controls.codProdBase.setValue('');\r\n          this.forma.controls.descProdBase.setValue(''); \r\n          break; \r\n        }\r\n        case 'agrupacion': { \r\n          this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n          this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n          this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n          this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n          this.forma.controls.codAgrupacion.setValue(resData.jag_scodagrupacion);\r\n          this.forma.controls.descAgrupacion.setValue(resData.jag_sdesagrupacion); \r\n          this.forma.controls.codProdBase.setValue('');\r\n          this.forma.controls.descProdBase.setValue('');  \r\n          break; \r\n        }\r\n        case 'prodbase': { \r\n          this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n          this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n          this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n          this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n          this.forma.controls.codAgrupacion.setValue(resData.jag_scodagrupacion);\r\n          this.forma.controls.descAgrupacion.setValue(resData.jag_sdesagrupacion); \r\n          this.forma.controls.codProdBase.setValue(resData.jpb_scodproductobase);\r\n          this.forma.controls.descProdBase.setValue(resData.jpb_sdesproductobase); \r\n          break; \r\n        } \r\n        case 'catNegocio': { \r\n          this.forma.controls.codCatNegocio.setValue(resData.can_scodcatnegocio);\r\n          this.forma.controls.descCatNegocio.setValue(resData.can_sdescatnegocio); \r\n          break; \r\n        } \r\n      } \r\n    }\r\n    $('body').removeClass('modal-open');\r\n  }\r\n\r\n  buscar ($event: any) {\r\n\r\n    this.categoriaNegocio = '';\r\n\r\n    this.articulos = [];\r\n    this.exportar = false;\r\n\r\n    if(this.forma.controls.codCatNegocio.value === null || this.forma.controls.codCatNegocio.value === \"\"){\r\n      swal('Atención', 'Debe ingresar una Categoría de Negocio', 'info');\r\n    }else{\r\n      this.request.sCodAgrupacion = this.forma.controls.codAgrupacion.value;\r\n      this.request.sCodCategoria = this.forma.controls.codCategoria.value;\r\n      this.request.sCodCategoriaNegocio = this.forma.controls.codCatNegocio.value;\r\n      this.request.sCodEstado = this.forma.controls.estado.value;\r\n      this.request.sCodFormato = this.forma.controls.codArtFormato.value;\r\n      this.request.sCodLinea = this.forma.controls.codLinea.value;\r\n      this.request.sCodProductobase = this.forma.controls.codProdBase.value;\r\n      this.request.sCodSap = this.forma.controls.codNestle.value;\r\n      this.request.sCodVariedad = this.forma.controls.codArtVariedad.value;\r\n  \r\n      console.log('request descuentos func', this.request);\r\n\r\n      this.categoriaNegocio = this.forma.controls.codCatNegocio.value;\r\n      console.log('categoria negocio', this.categoriaNegocio);\r\n\r\n      this.cargador.show();\r\n\r\n      this.administracionComercialService.getArticulosDescuentosFuncionales(this.request)\r\n        .subscribe((data:any)=>{\r\n            this.cargador.hide();\r\n            console.log('data', data.articulo);\r\n            if(data.articulo){\r\n              console.log('existe data');\r\n              if(data.articulo.length == 0 && data.error.codError == 0 ){\r\n                swal('Atención', 'No se encontraron resultados', 'info');\r\n              }else{\r\n                this.cargarDataTable(data.articulo);\r\n                this.actionBtns = true;\r\n                this.exportar = true;\r\n              }\r\n            }\r\n            \r\n            if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            } \r\n        },\r\n        error =>{\r\n            this.cargador.hide();\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n    }\r\n  }\r\n\r\n  radioGlobal(){\r\n    console.log('Global');\r\n    this.verIndividual = false;\r\n    this.verGlobal = true;\r\n\r\n    if(this.articulos.length > 0){\r\n      for(let i in this.articulos){\r\n        this.articulos[i].verOK = false;\r\n        this.editRowID = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  radioIndividual(){\r\n    console.log('Individual');\r\n    this.verIndividual = true;\r\n    this.verGlobal = false;\r\n  }\r\n\r\n  edit(articulo){\r\n    this.editRowID = articulo.art_scodsap;\r\n    articulo.verOK = true;\r\n  }\r\n\r\n  save(articulo){\r\n    this.editRowID = null;\r\n    articulo.verOK = false;\r\n  }\r\n\r\n  calcularPrecioNuevo(articulo){\r\n    console.log(articulo.p_nuevo);\r\n    if(articulo.p_nuevo > 100){\r\n      swal('Atención', 'Descuento no puede ser mayor al 100%', 'warning');\r\n      articulo.p_nuevo = 0;\r\n    }else{\r\n      if(articulo.p_nuevo === null){\r\n        articulo.p_nuevo = 0;\r\n      }\r\n      articulo.precio_nuevo =  Math.round(articulo.pra_nprecio * ((100 - articulo.p_nuevo)/100));\r\n    }\r\n  }\r\n\r\n  calcularPorcentajeNuevo(articulo){\r\n    articulo.p_nuevo = (articulo.pra_nprecio === 0 ? 0 : ( 100 - ((articulo.precio_nuevo * 100) / articulo.pra_nprecio))).toFixed(2);\r\n  }\r\n\r\n  validarFechaActual(articulo){\r\n    let fechaString = this.utilService.dateToStringFormat(this.fechaActual);\r\n\r\n    if(articulo.fecha_actual === ''){\r\n      articulo.fecha_actual = fechaString;\r\n    }\r\n\r\n    if(articulo.fecha_actual.length > 10){\r\n      articulo.fecha_actual = fechaString;\r\n    }\r\n  }\r\n\r\n  validarHoraActual(articulo){\r\n    console.log('articulo.sfhoinicionuevo', articulo.sfhoinicionuevo);\r\n    if(articulo.sfhoinicionuevo === ''){\r\n      articulo.sfhoinicionuevo = '00:00';\r\n    }\r\n\r\n  }\r\n\r\n  cargarDataTable(data:Array<any>){\r\n      console.log('data',data);\r\n\r\n      this.articulos = [];\r\n\r\n      for(let i in data){\r\n        \r\n        if(data[i].sfhoinicionuevo === \"\"){\r\n          this.shorainicionuevo = \"00:00\";\r\n          this.sfechainicionuevo = this.utilService.dateToStringFormat(this.fechaActual);\r\n        }\r\n        else{\r\n          this.shorainicionuevo = this.utilService.timeStringServiceToStringFormat(data[i].sfhoinicionuevo);\r\n          this.sfechainicionuevo = this.utilService.dateStringServiceToStringFormat(data[i].sfhoinicionuevo);\r\n        }\r\n      \r\n        let articulo = {\r\n          art_scodestado : data[i].art_scodestado,\r\n          art_scodformato : data[i].art_scodformato,\r\n          art_scodsap : data[i].art_scodsap,\r\n          art_scodvariedad: data[i].art_scodvariedad,\r\n          art_sdescripcion: data[i].art_sdescripcion,\r\n          art_sdesestado: data[i].art_sdesestado,\r\n          def_nporcdescto: data[i].def_nporcdescto,\r\n          jag_scodagrupacion: data[i].jag_scodagrupacion,\r\n          jca_scodcategoria: data[i].jca_scodcategoria,\r\n          jli_scodlinea: data[i].jli_scodlinea,\r\n          jpb_scodproductobase: data[i].jpb_scodproductobase,\r\n          p_nuevo: data[i].p_nuevo,\r\n          pra_nprecio: data[i].pra_nprecio,\r\n          sfhoinicioactual: data[i].sfhoinicioactual,\r\n          sfhoinicionuevo: this.shorainicionuevo,\r\n          fecha_actual : this.sfechainicionuevo, //this.utilService.dateToStringFormat(this.fechaActual),\r\n          precio_nuevo: data[i].pra_nprecio * ((100 - data[i].p_nuevo)/100),\r\n          verOK: false,\r\n          categoriaNegocio: this.categoriaNegocio\r\n        }\r\n        this.articulos.push(articulo);\r\n      }\r\n      console.log('articulos', this.articulos);\r\n  }\r\n\r\n  actualizarPorcentajeNuevo(){\r\n    if(this.verGlobal){\r\n      for(let i in this.articulos){\r\n        this.articulos[i].p_nuevo = this.desGlobal;\r\n        this.articulos[i].precio_nuevo = Math.round(this.articulos[i].pra_nprecio * ((100 - this.desGlobal)/100));\r\n      }\r\n    }\r\n  }\r\n\r\n  editarFechaDesde(){\r\n    this.editFechaDesde = true;\r\n  }\r\n\r\n  actualizarFechaDesde() {\r\n    console.log('fecha desde', this.fechaDesde);\r\n    console.log('tipo dato', typeof(this.fechaDesde));\r\n    if(this.verGlobal){\r\n      if(this.fechaDesde !== undefined && typeof(this.fechaDesde) !== 'object' ){\r\n        let dateValid = this.utilService.DateValidator(this.fechaDesde);\r\n        console.log('dateValid', dateValid);\r\n        if(!dateValid){\r\n          this.fechaDesde = this.utilService.dateToStringFormat(this.fechaActual);\r\n        }\r\n        for(let i in this.articulos){\r\n          this.articulos[i].fecha_actual = this.fechaDesde;\r\n        }\r\n      }\r\n      this.editFechaDesde = false;\r\n    }\r\n  }\r\n\r\n  actualizarHoraDesde() {\r\n    console.log('hora desde', this.horaDesde);\r\n    console.log('tipo dato hora', typeof(this.horaDesde));\r\n    if(this.verGlobal){\r\n      if(this.horaDesde !== undefined){\r\n        for(let i in this.articulos){\r\n          this.articulos[i].sfhoinicionuevo = this.horaDesde;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  guardar(){\r\n    let errorFecha = false;\r\n    for(let i in this.articulos){\r\n\r\n      this.articulos[i].verOK = false;\r\n      this.editRowID = null;\r\n  \r\n      let hh = parseInt(this.articulos[i].sfhoinicionuevo.substring(0, 2));\r\n      let mm = parseInt(this.articulos[i].sfhoinicionuevo.substring(3, 5));\r\n\r\n      console.log(hh,mm);\r\n\r\n      if(isNaN(hh) || isNaN(mm)){\r\n        errorFecha = true;\r\n        break;\r\n      }\r\n\r\n      console.log('this.articulos[i].fecha_actual typeof', typeof(this.articulos[i].fecha_actual));\r\n\r\n      if(typeof(this.articulos[i].fecha_actual) === 'object'){\r\n        this.articulos[i].fecha_actual = this.utilService.dateToStringFormat(this.articulos[i].fecha_actual);\r\n      }\r\n\r\n      if((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getFullYear()) < (this.fechaActual.getFullYear())){\r\n        errorFecha = true;\r\n        break;\r\n      }else if(((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getMonth()) < (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getFullYear()) <= (this.fechaActual.getFullYear())) ){\r\n        errorFecha = true;\r\n        break;\r\n      }\r\n      else if(((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getDate()) < (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getFullYear()) <= (this.fechaActual.getFullYear()))){\r\n        errorFecha = true;\r\n        break;\r\n      }\r\n      else if((hh < this.fechaActual.getHours()) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getDate()) <= (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getFullYear()) <= (this.fechaActual.getFullYear()))){\r\n        errorFecha = true;\r\n        break;\r\n      }\r\n      else if((mm < this.fechaActual.getMinutes()) && (hh <= this.fechaActual.getHours()) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getDate()) <= (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].fecha_actual).getFullYear()) <= (this.fechaActual.getFullYear())) ){ \r\n        errorFecha = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    console.log('errorFecha', errorFecha);\r\n\r\n    if(errorFecha){\r\n      swal('Atención', 'Una o más fechas con hora son inferiores a la Fecha y Hora actual', 'info');\r\n    }\r\n    else{\r\n      //grabar datos\r\n\r\n      this.cargador.show();\r\n\r\n      this.requestGuardar = [];\r\n\r\n      for(let i in this.articulos){\r\n        console.log(this.articulos[i]);\r\n        let articulo = {\r\n          \"sCodFormato\": this.articulos[i].art_scodformato,\r\n          \"sCodVariedad\": this.articulos[i].art_scodvariedad,\r\n          \"sCodCatNegocio\": this.articulos[i].categoriaNegocio,\r\n          \"sFhoInicioVigencia\": (this.articulos[i].fecha_actual).replace(/-/g, '') + (this.articulos[i].sfhoinicionuevo).replace(':', ''),           //\"20191221232323\",\r\n          \"nporcentaje\": this.articulos[i].p_nuevo,\r\n          \"nRunUsuario\": this.authService.getDatosUser().nrunusuario\r\n        }\r\n\r\n        this.requestGuardar.push(articulo);\r\n      }\r\n\r\n      console.log('requets guardar', JSON.stringify(this.requestGuardar));\r\n\r\n      this.administracionComercialService.guardaDescuentoFuncional(this.requestGuardar)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n\r\n          console.log('respuesta graba desc funcional', data);\r\n\r\n          if(data.error.codError != 0){\r\n            swal('Atención', data.error.msjError, 'error');\r\n          } else{\r\n            swal('Atención','La operación se realizó correctamente', 'success');\r\n            this.fechaDesde = this.utilService.dateToStringFormat(this.fechaActual);\r\n            this.desGlobal = null;\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n    }\r\n  }\r\n\r\n  generateExcel(){\r\n\r\n    let headerExcel = [\r\n      \"Línea\", \"Categoría\", \"Agrupación\", \"Prod. Base\", \"Cod. Articulo\", \"Cód. Nestlé\", \"Descripción\", \"Precio Base Actual\", \"% Descuento Actual\",\r\n      \"PNV Actual\", \"Desde\"\r\n    ];\r\n    \r\n    let dataExcel = [];\r\n\r\n    for(let i in this.articulos){\r\n      let articulo = [\r\n        this.articulos[i].jli_scodlinea,\r\n        this.articulos[i].jca_scodcategoria,\r\n        this.articulos[i].jag_scodagrupacion,\r\n        this.articulos[i].jpb_scodproductobase,\r\n        `${this.articulos[i].art_scodformato} - ${this.articulos[i].art_scodvariedad}`,\r\n        this.articulos[i].art_scodsap,\r\n        this.articulos[i].art_sdescripcion,\r\n        this.articulos[i].pra_nprecio,\r\n        `${this.articulos[i].def_nporcdescto} %`,\r\n        this.articulos[i].pra_nprecio * ((100 - this.articulos[i].def_nporcdescto)/100),\r\n        this.articulos[i].sfhoinicioactual === '' ? '' : this.utilService.dateStringServiceToLocalStringFormat(this.articulos[i].sfhoinicioactual)\r\n      ]\r\n      dataExcel.push(articulo);\r\n    }\r\n\r\n    let fechaExcel = this.utilService.dateToLocalStringFormat(this.fechaActual);\r\n    let titulo = `Articulos_${this.utilService.dateToStringDateFullFormat(new Date())}00`;\r\n\r\n    this.excelService.generateExcel(titulo, headerExcel, dataExcel, fechaExcel);\r\n    swal('Perfecto', 'Su reporte ha sido generado con exito!', 'success');\r\n    this.exportar = false;\r\n\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Estructura Comercial</h4>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label ph-0\\\">Fuerza de Venta</label>\\r\\n                    <div class=\\\"col-sm-4\\\">\\r\\n                        <select class=\\\"form-control pv-0\\\" formControlName=\\\"fuerzaVenta\\\" name=\\\"fuerzaVenta\\\" (change)=\\\"cargarZonasTerritorios()\\\">\\r\\n                            <option *ngFor=\\\"let usertipoFuerzaVenta of tipoFuerzaVenta\\\" [ngValue]=\\\"usertipoFuerzaVenta.ofv_scodfuerzavta\\\">{{usertipoFuerzaVenta.fvt_sdesfuerzavta}}</option>\\r\\n                      </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-12\\\">\\r\\n                <form class=\\\"panel\\\">\\r\\n                    <tabset>\\r\\n                        <tab>\\r\\n                            <ng-template tabHeading>Zona</ng-template>\\r\\n                            <div>\\r\\n                                <div class=\\\"panel-heading ph-0\\\">\\r\\n                                    <h4>Zonas Vigentes</h4>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"dash-table-container\\\">\\r\\n                                    <div class=\\\"table-add float-right\\\">\\r\\n                                        <a class=\\\"text\\\" data-toggle=\\\"tooltip\\\" title=\\\"Agregar Zona\\\" (click)=\\\"openAgregarZona()\\\">\\r\\n                                            <strong><em class=\\\"fa fa-plus\\\"></em></strong>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n\\r\\n                                    <table class=\\\"table table-hover\\\">\\r\\n                                        <thead>\\r\\n                                            <th>C&oacute;digo Zona</th>\\r\\n                                            <th>Descripci&oacute;n</th>\\r\\n                                            <th>Fecha Creación</th>\\r\\n                                            <th>Estado</th>\\r\\n                                        </thead>\\r\\n                                        <tbody>\\r\\n                                            <tr *ngFor=\\\"let zona of zonaList; let codigo = index\\\">\\r\\n                                                <td>\\r\\n                                                    <span>{{zona.zon_scodzona}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{zona.zon_sdeszona}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{zona.zon_dfhocreacion | fecha }}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{zona.zon_scodestado | estadoVigencia}}</span>\\r\\n                                                </td>\\r\\n                                                <td class=\\\"text-center\\\">\\r\\n                                                    <div class=\\\"table-edit\\\">\\r\\n                                                        <a class=\\\"text\\\" data-toggle=\\\"tooltip\\\" title=\\\"Editar Zona\\\" (click)=\\\"openEditarZona(zona)\\\">\\r\\n                                                            <em class=\\\"fa fa-edit\\\"></em>\\r\\n                                                        </a>\\r\\n                                                    </div>\\r\\n                                                </td>\\r\\n                                            </tr>\\r\\n                                        </tbody>\\r\\n                                    </table>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </tab>\\r\\n                        <tab>\\r\\n                            <ng-template tabHeading>Territorio</ng-template>\\r\\n                            <div>\\r\\n                                <div class=\\\"panel-heading ph-0\\\">\\r\\n                                    <h4>Territorios Vigentes</h4>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"dash-table-container\\\">\\r\\n                                    <div class=\\\"table-add float-right\\\">\\r\\n                                        <a class=\\\"text\\\" data-toggle=\\\"tooltip\\\" title=\\\"Agregar Territorio\\\" (click)='openAgregarTerritorio()'>\\r\\n                                            <strong><em class=\\\"fa fa-plus\\\"></em></strong>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n\\r\\n                                    <table class=\\\"table table-hover\\\">\\r\\n                                        <thead>\\r\\n                                            <th>C&oacute;digo Zona</th>\\r\\n                                            <th>Descripci&oacute;n</th>\\r\\n                                            <th>C&oacute;digo Territorio</th>\\r\\n                                            <th>Descripci&oacute;n</th>\\r\\n                                            <th>Fecha Creación</th>\\r\\n                                            <th>Estado</th>\\r\\n                                        </thead>\\r\\n                                        <tbody>\\r\\n                                            <tr *ngFor=\\\"let territorio of territorioList; let codigo = index\\\">\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.ter_scodzona}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.zon_sdeszona}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.ter_scodterritorio}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.ter_sdesterritorio}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.ter_dfhocreacion | fecha}}</span>\\r\\n                                                </td>\\r\\n                                                <td>\\r\\n                                                    <span>{{territorio.ter_scodestado | estadoVigencia}}</span>\\r\\n                                                </td>\\r\\n                                                <td class=\\\"text-center\\\">\\r\\n                                                    <div class=\\\"table-edit\\\">\\r\\n                                                        <a class=\\\"text\\\" data-toggle=\\\"tooltip\\\" title=\\\"Editar Territorio\\\" (click)=\\\"openEditarTerritorio(territorio)\\\">\\r\\n                                                            <em class=\\\"fa fa-edit\\\"></em>\\r\\n                                                        </a>\\r\\n                                                    </div>\\r\\n                                                </td>\\r\\n                                            </tr>\\r\\n                                        </tbody>\\r\\n                                    </table>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </tab>\\r\\n                    </tabset>\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"\"","import { Component, OnInit, OnDestroy  } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { AuthService } from '../../../core/consultaService/auth.service';\r\nimport { AdministracionComercialService } from '../../../core/consultaService/administracionComercial.service';\r\nimport { ConsultasService } from '../../../core/consultaService/consultas.service';\r\nimport { ZonasPopUpComponent } from '../../commonPopUp/zonasPopUp/zonasPopUp.component';\r\nimport { TerritoriosPopUpComponent } from '../../commonPopUp/territoriosPopUp/territoriosPopUp.component';\r\n\r\n\r\n\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\nconst swal = require('sweetalert');\r\n\r\n@Component({\r\n  selector: 'app-estructuraComercial',\r\n  templateUrl: './estructuraComercial.component.html',\r\n  styleUrls: ['./estructuraComercial.component.scss']\r\n})\r\nexport class EstructuraComercialComponent implements OnInit, OnDestroy  {\r\n\r\n  forma: FormGroup;\r\n  request: any = {};\r\n  requestZonas: any = {};\r\n\r\n  tipoFuerzaVenta: Array<any> = [];  \r\n\r\n  parametrosUsuario: any;\r\n\r\n  zonaList: Array<any> = [];\r\n\r\n  territorioList: Array<any> = [];\r\n\r\n  subData: any;\r\n\r\n  bsModalRef: BsModalRef;\r\n\r\n  codFuerzaVenta = \"\";\r\n\r\n  constructor(fb: FormBuilder, private authService:AuthService, private administracionComercialService:AdministracionComercialService,\r\n              public cargador: NgxSpinnerService, private consultasService:ConsultasService, private modalService: BsModalService) {\r\n    this.forma = new FormGroup ({\r\n      fuerzaVenta: new FormControl(),\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.parametrosUsuario = this.authService.getDatosUser();\r\n    console.log('parametros Usuario', this.parametrosUsuario);\r\n\r\n    this.request.nRutOperador = this.parametrosUsuario.nrutoperador;\r\n    console.log('request rtu operador', this.request);\r\n\r\n    this.cargador.show();\r\n\r\n    this.administracionComercialService.getFuerzaVentasOperador(this.request)\r\n      .subscribe((data:any)=>{\r\n          console.log(data);\r\n          if(data.estructuraComercial){\r\n            this.cargador.hide();\r\n            this.tipoFuerzaVenta = data.estructuraComercial;\r\n            this.forma.controls.fuerzaVenta.setValue(this.tipoFuerzaVenta[0].ofv_scodfuerzavta);\r\n  \r\n            this.cargarZonasTerritorios();\r\n          }\r\n\r\n          if(data.error.codError != 0){\r\n            this.cargador.hide();\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          } \r\n          \r\n      },\r\n      error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n    })\r\n    \r\n    this.subData = this.consultasService.datos$.subscribe(resData =>{\r\n      this.setData(resData);\r\n    })\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    if(this.subData != undefined) {\r\n      this.subData.unsubscribe();\r\n    }\r\n  }\r\n\r\n  setData(resData){\r\n    if(resData === 'guardar'){\r\n        this.cargarZonasTerritorios();\r\n    }\r\n  }\r\n\r\n  cargarZonasTerritorios(){\r\n    this.requestZonas.nRutOperador = this.parametrosUsuario.nrutoperador;\r\n    this.requestZonas.sCodEstado = \"\";\r\n    this.requestZonas.sCodFuerzaVta = this.forma.controls.fuerzaVenta.value;\r\n\r\n    this.codFuerzaVenta = this.forma.controls.fuerzaVenta.value;\r\n\r\n    this.cargador.show();\r\n\r\n    this.administracionComercialService.getZonasOperador(this.requestZonas)\r\n      .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          console.log('zonas:',data);\r\n          this.zonaList = data.zonasOperador;\r\n      },\r\n      error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n    })\r\n\r\n    this.administracionComercialService.getTerritoriosOperador(this.requestZonas)\r\n    .subscribe((data:any)=>{\r\n          console.log('territorios:',data);\r\n          this.territorioList = data.territoriosVigentes;\r\n    },\r\n    error =>{\r\n        swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n  })\r\n\r\n  }\r\n\r\n  openEditarZona(zona){\r\n    window.scroll(0,0);\r\n    const initialState = {\r\n      titulo: 'Editar',\r\n      zona: zona,\r\n      codFuerzaVenta: this.codFuerzaVenta\r\n    };\r\n    this.bsModalRef = this.modalService.show(ZonasPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n  openAgregarZona(){\r\n    const initialState = {\r\n      titulo: 'Agregar',\r\n      codFuerzaVenta: this.codFuerzaVenta\r\n    };\r\n    this.bsModalRef = this.modalService.show(ZonasPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n  openEditarTerritorio(territorio){\r\n    window.scroll(0,0);\r\n    const initialState = {\r\n      titulo: 'Editar',\r\n      territorio: territorio,\r\n      codFuerzaVenta: this.codFuerzaVenta\r\n    };\r\n    this.bsModalRef = this.modalService.show(TerritoriosPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n  openAgregarTerritorio(){\r\n    const initialState = {\r\n      titulo: 'Agregar',\r\n      codFuerzaVenta: this.codFuerzaVenta\r\n    };\r\n    this.bsModalRef = this.modalService.show(TerritoriosPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"panel panel-default\\\">\\r\\n    <div class=\\\"panel-heading\\\">\\r\\n        <h4>Precios</h4>\\r\\n    </div>\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        <form ngNativeValidate [formGroup]=\\\"forma\\\" class=\\\"form-horizontal\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Línea</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codLinea\\\" name=\\\"codLinea\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaLinea()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descLinea\\\" name=\\\"descLinea\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalLineas()\\\">\\r\\n                          <em class=\\\"icon-magnifier\\\"></em>\\r\\n                        </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Art&iacute;culo</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codArtFormato\\\" name=\\\"codArtFormato\\\" class=\\\"form-control\\\" type=\\\"text\\\" maxlength=\\\"5\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codArtVariedad\\\" name=\\\"codArtVariedad\\\" class=\\\"form-control\\\" type=\\\"text\\\" maxlength=\\\"2\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Categor&iacute;a</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codCategoria\\\" name=\\\"codCategoria\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaCategoria()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descCategoria\\\" name=\\\"descCategoria\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalCategorias()\\\">\\r\\n                      <em class=\\\"icon-magnifier\\\"></em>\\r\\n                    </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <label class=\\\"col-sm-1 control-label lh-11\\\">Artículo Nestl&eacute;</label>\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <input formControlName=\\\"codNestle\\\" name=\\\"codNestle\\\" class=\\\"form-control\\\" type=\\\"text\\\" maxlength=\\\"18\\\" />\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Agrupaci&oacute;n</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codAgrupacion\\\" name=\\\"codAgrupacion\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaAgrupacion()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descAgrupacion\\\" name=\\\"descAgrupacion\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalAgrupacion()\\\">\\r\\n                        <em class=\\\"icon-magnifier\\\"></em>\\r\\n                      </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Estado Nestl&eacute;</label>\\r\\n                    <div class=\\\"col-sm-3\\\">\\r\\n                        <select class=\\\"form-control pv-0\\\" formControlName=\\\"estado\\\" name=\\\"estado\\\">\\r\\n                              <option *ngFor=\\\"let userEstado of estado\\\" [ngValue]=\\\"userEstado.codEstado\\\">{{userEstado.descEstado}}</option>\\r\\n                    </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <div class=\\\"col-lg-12\\\">\\r\\n                    <label class=\\\"col-sm-1 control-label\\\">Prod. Base</label>\\r\\n                    <div class=\\\"col-sm-5\\\">\\r\\n                        <div class=\\\"col-sm-4\\\">\\r\\n                            <input formControlName=\\\"codProdBase\\\" name=\\\"codProdBase\\\" class=\\\"form-control\\\" type=\\\"text\\\" (change)=\\\"validaProdBase()\\\" maxlength=\\\"5\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-6\\\">\\r\\n                            <input formControlName=\\\"descProdBase\\\" name=\\\"descProdBase\\\" class=\\\"form-control\\\" type=\\\"text\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-2\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"openModalProdBase()\\\">\\r\\n                            <em class=\\\"icon-magnifier\\\"></em>\\r\\n                          </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"panel-heading pl-0\\\">\\r\\n            <h4>Coincidencias</h4>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row pull-left\\\">\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" (click)=\\\"buscar()\\\" type=\\\"button\\\">Buscar</button>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4 pl-1\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" (click)=\\\"guardar()\\\" type=\\\"button\\\" [disabled]=\\\"!actionBtns\\\">Guardar</button>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4 pl-1\\\">\\r\\n                <button class=\\\"btn btn-oval btn-sm\\\" [disabled]=\\\"!exportar\\\" (click)=\\\"generateExcel()\\\">Exportar</button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br>\\r\\n        <br>\\r\\n\\r\\n        <div class=\\\"table\\\">\\r\\n            <table class=\\\"table table-striped table-hover\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th colspan=\\\"7\\\"></th>\\r\\n                        <th colspan=\\\"2\\\">Valores Actuales</th>\\r\\n                        <th colspan=\\\"3\\\">Valores nuevos</th>\\r\\n                        <th colspan=\\\"2\\\">Desde</th>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <th>LN</th>\\r\\n                        <th>CT</th>\\r\\n                        <th>AG</th>\\r\\n                        <th>PB</th>\\r\\n                        <th>Cod. Artículo</th>\\r\\n                        <th>Descripción</th>\\r\\n                        <th>Medida</th>\\r\\n                        <th>P. Base Actual</th>\\r\\n                        <th>Desde</th>\\r\\n                        <th>P. Base Nuevo</th>\\r\\n                        <th>%</th>\\r\\n                        <th>Fecha</th>\\r\\n                        <th>Hora</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let articulo of articulos | paginate: {itemsPerPage: 7, currentPage: pageActual};\\\">\\r\\n                        <td>{{articulo.jli_scodlinea}}</td>\\r\\n                        <td>{{articulo.jca_scodcategoria}}</td>\\r\\n                        <td>{{articulo.jag_scodagrupacion}}</td>\\r\\n                        <td>{{articulo.jpb_scodproductobase}}</td>\\r\\n                        <td class=\\\"w-70\\\">{{articulo.art_scodformato}} - {{articulo.art_scodvariedad}}</td>\\r\\n                        <td class=\\\"w-100\\\">{{articulo.art_sdescripcion }}</td>\\r\\n                        <td>{{articulo.art_smedida }}</td>\\r\\n                        <td class=\\\"text-right\\\">{{articulo.p_actual | number:'':'es'}}</td>\\r\\n                        <td class=\\\"mw-130\\\">{{articulo.p_actual_desde | fecha: \\\"hora\\\" }}</td>\\r\\n                        <td><input appDecimalNumber #p_nuevo type=\\\"number\\\" step=\\\"0.01\\\" [(ngModel)]=\\\"articulo.p_nuevo\\\" (change)=\\\"recalPorcentaje(articulo)\\\" class=\\\"form-control w-90 ph-2 mt-1 text-right\\\" maxlength=\\\"15\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\r\\n                                (focusout)=\\\"validaFormatoDec(p_nuevo)\\\"></td>\\r\\n                        <td><input appDecimalNumber #por_nuevo type=\\\"number\\\" step=\\\"0.01\\\" [(ngModel)]=\\\"articulo.por_nuevo\\\" (change)=\\\"recalPrecioNuevo(articulo)\\\" class=\\\"form-control w-80 mt-1 text-right\\\" maxlength=\\\"6\\\" oninput=\\\"if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\r\\n                                (focusout)=\\\"validaFormatoDec(por_nuevo)\\\"></td>\\r\\n                        <td><input type=\\\"date\\\" [(ngModel)]=\\\"articulo.p_nuevo_desde\\\" (change)=\\\"validarFecha(articulo)\\\" class=\\\"form-control w-110 mt-1 pad-x-3 text-right\\\"></td>\\r\\n                        <td><input type=\\\"time\\\" [(ngModel)]=\\\"articulo.p_nuevo_desde_time\\\" (change)=\\\"validarHora(articulo)\\\" class=\\\"form-control w-70 mt-1 pad-x-3 text-right\\\"></td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"text-right pt-3\\\">\\r\\n            <pagination-controls (pageChange)=\\\"pageActual = $event\\\" previousLabel=\\\"Anterior\\\" nextLabel=\\\"Siguiente\\\" autoHide=\\\"true\\\"></pagination-controls>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    </div>\\r\\n</div>\"","module.exports = \".pad-3{padding-top:3px}.pad-x-3{padding-left:3px;padding-right:3px}\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\nimport { registerLocaleData } from '@angular/common';\r\nimport es from '@angular/common/locales/es';\r\n\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ExcelService } from '../../../core/excel/excel.service';\r\nimport { ConsultasService } from '../../../core/consultaService/consultas.service';\r\nimport { UtilService } from '../../../services/util.service';\r\nimport { AuthService } from '../../../core/consultaService/auth.service';\r\n\r\nimport { BuscarArticuloPopUpComponent } from './../../commonPopUp/buscarArticuloPopUp/buscarArticuloPopUp.component';\r\nimport { CategoriaNegocioPopUpComponent } from '../../commonPopUp/categoriaNegocioPopUp/categoriaNegocioPopUp.component';\r\nimport { AdministracionComercialService } from '../../../core/consultaService/administracionComercial.service';\r\nimport { ArticuloService } from '../../../core/consultaService/articulo.service';\r\n\r\nconst swal = require('sweetalert');\r\n\r\ndeclare var jQuery:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  selector: 'app-precios',\r\n  templateUrl: './precios.component.html',\r\n  styleUrls: ['./precios.component.scss']\r\n})\r\nexport class PreciosComponent implements OnInit, OnDestroy {\r\n\r\n  fechaActual: Date;\r\n\r\n  forma: FormGroup;\r\n  pageActual = 1;\r\n\r\n  request: any = {};\r\n  requestBuscar: any = {};\r\n  requestGuardar: any = {};\r\n\r\n  articulos: Array <any> = [];\r\n\r\n  bsModalRef: BsModalRef;\r\n\r\n  actionBtns = false;\r\n\r\n  estado: Array<any> = [\r\n    {\r\n      codEstado: null,\r\n      descEstado: '(Todos)' \r\n    },\r\n    {\r\n      codEstado: 'NOVIG',\r\n      descEstado: 'Inactivo' \r\n    },\r\n    {\r\n      codEstado: 'VIGEN',\r\n      descEstado: 'Activo' \r\n    }\r\n  ];\r\n\r\n  composicion: Array<string> = [\r\n      'Todos',\r\n      'Inactivo'\r\n    ];\r\n\r\n  origen:string = '';\r\n  subData: any;\r\n  datos: Array <any> = [];\r\n\r\n  exportar = false;\r\n\r\n  constructor(fb: FormBuilder, public http: HttpClient, private excelService: ExcelService,private modalService: BsModalService,\r\n    private consultasService:ConsultasService, private administracionComercialService:AdministracionComercialService,\r\n    public cargador: NgxSpinnerService, private utilService:UtilService, private authService:AuthService, private articuloService: ArticuloService) {\r\n      this.forma = new FormGroup ({\r\n        codLinea: new FormControl(''),\r\n        descLinea: new FormControl({value:'', disabled:true }),\r\n        codArtFormato: new FormControl(''),\r\n        codArtVariedad: new FormControl(''),\r\n        codCategoria: new FormControl(''),\r\n        descCategoria: new FormControl({value:'', disabled:true }),\r\n        codNestle: new FormControl(''),\r\n        codAgrupacion: new FormControl(''),\r\n        descAgrupacion: new FormControl({value:'', disabled:true }),\r\n        estado: new FormControl(),\r\n        codProdBase: new FormControl(''),\r\n        descProdBase: new FormControl({value:'', disabled:true }),\r\n        codCatNegocio: new FormControl('')\r\n      });\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n      this.fechaActual = new Date();\r\n\r\n      console.log(this.forma);\r\n\r\n      registerLocaleData( es );\r\n  \r\n      this.subData = this.consultasService.datos$.subscribe(resData =>{\r\n        this.setData(resData);\r\n      })\r\n    }\r\n  \r\n    ngOnDestroy() {\r\n      if(this.subData != undefined) {\r\n        this.subData.unsubscribe();\r\n      }\r\n    }\r\n  \r\n    openModalLineas() {\r\n      this.origen = 'linea';\r\n      const initialState = {\r\n        titulo: 'Líneas',\r\n        origen: 'linea'\r\n      };\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }\r\n  \r\n    openModalCategorias() {\r\n      this.origen = 'categoria';\r\n      const initialState = {\r\n        titulo: 'Categorías',\r\n        origen: 'categoria'\r\n      };\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }\r\n  \r\n    openModalAgrupacion(){\r\n      this.origen = 'agrupacion';\r\n      const initialState = {\r\n        titulo: 'Agrupaciones',\r\n        origen: 'agrupacion'\r\n      };\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }\r\n  \r\n    openModalProdBase(){\r\n      this.origen = 'prodbase';\r\n      const initialState = {\r\n        titulo: 'Productos Base',\r\n        origen: 'prodbase'\r\n      };\r\n      this.bsModalRef = this.modalService.show(BuscarArticuloPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }\r\n  \r\n    openModalCatNegocio(){\r\n      this.origen = 'catNegocio';\r\n      const initialState = {\r\n        titulo: 'Categorías de Negocio',\r\n        origen: 'catNegocio'\r\n      };\r\n      this.bsModalRef = this.modalService.show(CategoriaNegocioPopUpComponent, {initialState, backdrop: 'static', keyboard: false});\r\n    }\r\n\r\n    validaLinea(){\r\n      if(this.forma.controls.codLinea.value === ''){\r\n        this.forma.controls.codLinea.setValue('');\r\n        this.forma.controls.descLinea.setValue('');\r\n        this.forma.controls.codCategoria.setValue('');\r\n        this.forma.controls.descCategoria.setValue('');\r\n        this.forma.controls.codAgrupacion.setValue('');\r\n        this.forma.controls.descAgrupacion.setValue('');\r\n        this.forma.controls.codProdBase.setValue('');\r\n        this.forma.controls.descProdBase.setValue('');\r\n      }else{\r\n        this.request.scodestado = 'VIGEN';\r\n        this.request.scodlinea = this.forma.controls.codLinea.value;\r\n        this.cargador.show();\r\n        this.articuloService.getLineas(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          if(data){\r\n            if(data.error.codError != 0){\r\n                swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n              }else{\r\n                this.datos = data.articulo;\r\n                if(this.datos.length > 0){\r\n                  this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                  this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea); \r\n                  this.forma.controls.codCategoria.setValue('');\r\n                  this.forma.controls.descCategoria.setValue('');\r\n                  this.forma.controls.codAgrupacion.setValue('');\r\n                  this.forma.controls.descAgrupacion.setValue('');\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue(''); \r\n                }else{\r\n                  this.forma.controls.codLinea.setValue('');\r\n                  this.forma.controls.descLinea.setValue('');\r\n                  this.forma.controls.codCategoria.setValue('');\r\n                  this.forma.controls.descCategoria.setValue('');\r\n                  this.forma.controls.codAgrupacion.setValue('');\r\n                  this.forma.controls.descAgrupacion.setValue('');\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue('');\r\n                  swal('Atención', 'No Existe Línea', 'warning');\r\n                }\r\n              }\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n      }\r\n    }\r\n\r\n    validaCategoria(){\r\n      if(this.forma.controls.codCategoria.value === ''){\r\n        this.forma.controls.codCategoria.setValue('');\r\n        this.forma.controls.descCategoria.setValue('');\r\n        this.forma.controls.codAgrupacion.setValue('');\r\n        this.forma.controls.descAgrupacion.setValue('');\r\n        this.forma.controls.codProdBase.setValue('');\r\n        this.forma.controls.descProdBase.setValue(''); \r\n      }else{\r\n        this.request.scodestado = 'VIGEN';\r\n        this.request.scodcategoria = this.forma.controls.codCategoria.value;\r\n        this.cargador.show();\r\n        this.articuloService.getCategorias(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          if(data){\r\n            if(data.error.codError != 0){\r\n                swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n              }else{\r\n                this.datos = data.articulo;\r\n                if(this.datos.length > 0){\r\n                  this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                  this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                  this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                  this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                  this.forma.controls.codAgrupacion.setValue('');\r\n                  this.forma.controls.descAgrupacion.setValue('');\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue(''); \r\n                }else{\r\n                  this.forma.controls.codCategoria.setValue('');\r\n                  this.forma.controls.descCategoria.setValue('');\r\n                  this.forma.controls.codAgrupacion.setValue('');\r\n                  this.forma.controls.descAgrupacion.setValue('');\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue('');\r\n                  swal('Atención', 'No Existe Categoría', 'warning');\r\n                }\r\n              }\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n      }\r\n    }\r\n\r\n    validaAgrupacion(){\r\n      if(this.forma.controls.codAgrupacion.value === ''){\r\n        this.forma.controls.codAgrupacion.setValue('');\r\n        this.forma.controls.descAgrupacion.setValue('');\r\n        this.forma.controls.codProdBase.setValue('');\r\n        this.forma.controls.descProdBase.setValue(''); \r\n      }else{\r\n        this.request.scodestado = 'VIGEN';\r\n        this.request.scodagrupacion = this.forma.controls.codAgrupacion.value;\r\n        this.cargador.show();\r\n        this.articuloService.getAgrupacion(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          if(data){\r\n            if(data.error.codError != 0){\r\n                swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n              }else{\r\n                this.datos = data.articulo;\r\n                if(this.datos.length > 0){\r\n                  this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                  this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                  this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                  this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                  this.forma.controls.codAgrupacion.setValue(this.datos[0].jag_scodagrupacion);\r\n                  this.forma.controls.descAgrupacion.setValue(this.datos[0].jag_sdesagrupacion); \r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue('');  \r\n                }else{\r\n                  this.forma.controls.codAgrupacion.setValue('');\r\n                  this.forma.controls.descAgrupacion.setValue('');\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue('');\r\n                  swal('Atención', 'No Existe Agrupación', 'warning');\r\n                }\r\n              }\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n      }\r\n    }\r\n\r\n    validaProdBase(){\r\n      if(this.forma.controls.codProdBase.value === ''){\r\n        this.forma.controls.codProdBase.setValue('');\r\n        this.forma.controls.descProdBase.setValue('');\r\n      }else{\r\n        this.request.scodestado = 'VIGEN';\r\n        this.request.scodproductobase = this.forma.controls.codProdBase.value;\r\n        this.cargador.show();\r\n        this.articuloService.getProdBase(this.request)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          if(data){\r\n            if(data.error.codError != 0){\r\n                swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n              }else{\r\n                this.datos = data.articulo;\r\n                if(this.datos.length > 0){\r\n                  this.forma.controls.codLinea.setValue(this.datos[0].jli_scodlinea);\r\n                  this.forma.controls.descLinea.setValue(this.datos[0].jli_sdeslinea);\r\n                  this.forma.controls.codCategoria.setValue(this.datos[0].jca_scodcategoria);\r\n                  this.forma.controls.descCategoria.setValue(this.datos[0].jca_sdescategoria);\r\n                  this.forma.controls.codAgrupacion.setValue(this.datos[0].jag_scodagrupacion);\r\n                  this.forma.controls.descAgrupacion.setValue(this.datos[0].jag_sdesagrupacion); \r\n                  this.forma.controls.codProdBase.setValue(this.datos[0].jpb_scodproductobase);\r\n                  this.forma.controls.descProdBase.setValue(this.datos[0].jpb_sdesproductobase);\r\n                }else{\r\n                  this.forma.controls.codProdBase.setValue('');\r\n                  this.forma.controls.descProdBase.setValue('');\r\n                  swal('Atención', 'No Existe Producto Base', 'warning');\r\n                }\r\n              }\r\n          }\r\n        },\r\n        error =>{\r\n          this.cargador.hide();\r\n          swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n      }\r\n    }\r\n  \r\n    setData(resData){\r\n      console.log('resPrueba en setLinea', resData);\r\n      console.log('origen', this.origen);\r\n      if(resData != 0){\r\n        switch(this.origen) { \r\n          case 'linea': { \r\n            this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n            this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n            this.forma.controls.codCategoria.setValue('');\r\n            this.forma.controls.descCategoria.setValue('');\r\n            this.forma.controls.codAgrupacion.setValue('');\r\n            this.forma.controls.descAgrupacion.setValue('');\r\n            this.forma.controls.codProdBase.setValue('');\r\n            this.forma.controls.descProdBase.setValue(''); \r\n            break; \r\n          } \r\n          case 'categoria': { \r\n            this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n            this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n            this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n            this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n            this.forma.controls.codAgrupacion.setValue('');\r\n            this.forma.controls.descAgrupacion.setValue('');\r\n            this.forma.controls.codProdBase.setValue('');\r\n            this.forma.controls.descProdBase.setValue(''); \r\n            break; \r\n          }\r\n          case 'agrupacion': { \r\n            this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n            this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n            this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n            this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n            this.forma.controls.codAgrupacion.setValue(resData.jag_scodagrupacion);\r\n            this.forma.controls.descAgrupacion.setValue(resData.jag_sdesagrupacion); \r\n            this.forma.controls.codProdBase.setValue('');\r\n            this.forma.controls.descProdBase.setValue('');  \r\n            break; \r\n          }\r\n          case 'prodbase': { \r\n            this.forma.controls.codLinea.setValue(resData.jli_scodlinea);\r\n            this.forma.controls.descLinea.setValue(resData.jli_sdeslinea);\r\n            this.forma.controls.codCategoria.setValue(resData.jca_scodcategoria);\r\n            this.forma.controls.descCategoria.setValue(resData.jca_sdescategoria);\r\n            this.forma.controls.codAgrupacion.setValue(resData.jag_scodagrupacion);\r\n            this.forma.controls.descAgrupacion.setValue(resData.jag_sdesagrupacion); \r\n            this.forma.controls.codProdBase.setValue(resData.jpb_scodproductobase);\r\n            this.forma.controls.descProdBase.setValue(resData.jpb_sdesproductobase); \r\n            break; \r\n          } \r\n          case 'catNegocio': { \r\n            this.forma.controls.codCatNegocio.setValue(resData.can_scodcatnegocio);\r\n            this.forma.controls.descCatNegocio.setValue(resData.can_sdescatnegocio); \r\n            break; \r\n          } \r\n        } \r\n      }\r\n      $('body').removeClass('modal-open');\r\n    }\r\n  \r\n    buscar () {\r\n      this.exportar = false;\r\n      this.articulos = [];\r\n\r\n      this.requestBuscar.sCodAgrupacion = this.forma.controls.codAgrupacion.value;\r\n      this.requestBuscar.sCodCategoria = this.forma.controls.codCategoria.value;\r\n      this.requestBuscar.sCodEstado = this.forma.controls.estado.value;\r\n      this.requestBuscar.sCodFormato = this.forma.controls.codArtFormato.value;\r\n      this.requestBuscar.sCodLinea = this.forma.controls.codLinea.value;\r\n      this.requestBuscar.sCodProductoBase = this.forma.controls.codProdBase.value;\r\n      this.requestBuscar.sCodSap = this.forma.controls.codNestle.value;\r\n      this.requestBuscar.sCodVariedad = this.forma.controls.codArtVariedad.value;\r\n  \r\n      console.log('request descuentos func', this.requestBuscar);\r\n  \r\n      this.cargador.show();\r\n  \r\n      this.administracionComercialService.getArticulosPrecios(this.requestBuscar)\r\n        .subscribe((data:any)=>{\r\n          this.cargador.hide();\r\n          console.log('data', data.cliente);\r\n          if(data.cliente){\r\n            console.log('existe data');\r\n            if(data.cliente.length == 0 && data.error.codError == 0 ){\r\n              swal('Atención', 'No se encontraron resultados', 'info');\r\n            }else{\r\n              this.cargarDataTable(data.cliente);\r\n              this.actionBtns = true;\r\n              this.exportar = true;\r\n            }\r\n          }\r\n          \r\n          if(data.error.codError != 0){\r\n              swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n          } \r\n        },\r\n        error =>{\r\n            this.cargador.hide();\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n        })\r\n      }\r\n\r\n  cargarDataTable(data:Array<any>){\r\n\r\n    this.articulos = [];\r\n\r\n    for(let i in data){\r\n      \r\n      let articulo = {\r\n        art_scodformato: data[i].art_scodformato,\r\n        art_scodvariedad: data[i].art_scodvariedad,\r\n        art_sdescripcion: data[i].art_sdescripcion,\r\n        jli_scodlinea: data[i].jli_scodlinea,\r\n        jca_scodcategoria: data[i].jca_scodcategoria,\r\n        jag_scodagrupacion: data[i].jag_scodagrupacion,\r\n        jpb_scodproductobase: data[i].jpb_scodproductobase,\r\n        p_actual: data[i].p_actual,\r\n        p_actual_desde: data[i].p_actual_desde,\r\n        p_nuevo: data[i].p_nuevo === 0 ? 0 : parseFloat(data[i].p_nuevo).toFixed(2),\r\n        por_nuevo: data[i].p_nuevo === 0 ? 0 : (((data[i].p_nuevo * 100) / data[i].p_actual) - 100).toFixed(2),\r\n        p_nuevo_desde: data[i].p_nuevo_desde === '' ? '' : this.utilService.dateStringServiceToStringFormat(data[i].p_nuevo_desde),\r\n        p_nuevo_desde_time: data[i].p_nuevo_desde === '' ? '' : this.utilService.timeStringServiceToStringFormat(data[i].p_nuevo_desde),\r\n        art_smedida: data[i].art_smedida,\r\n        art_modificado: false\r\n      }\r\n\r\n      this.articulos.push(articulo);\r\n    }\r\n\r\n    console.log('articulos', this.articulos);\r\n\r\n  }\r\n\r\n  validarFecha(articulo){\r\n    console.log('articulo.p_nuevo_desde',articulo.p_nuevo_desde);\r\n\r\n    articulo.art_modificado =  true;\r\n    \r\n    let fechaString = this.utilService.dateToStringFormat(this.fechaActual);\r\n\r\n    console.log('fechaString', fechaString);\r\n\r\n    if(articulo.p_nuevo_desde === ''){\r\n      articulo.p_nuevo_desde = fechaString;\r\n    }\r\n\r\n    if(articulo.p_nuevo_desde.length > 10){\r\n      articulo.p_nuevo_desde = fechaString;\r\n    }\r\n  }\r\n\r\n  validarHora(articulo){\r\n    console.log('articulo.p_nuevo_desde_time', articulo.p_nuevo_desde_time);\r\n    articulo.art_modificado =  true;\r\n    if(articulo.p_nuevo_desde_time === ''){\r\n      articulo.p_nuevo_desde_time = '00:00';\r\n    }\r\n  }\r\n\r\n  validaFormatoDec(valor){\r\n    valor.value = (parseFloat(valor.value).toFixed(2));\r\n  }\r\n\r\n  recalPorcentaje(articulo){\r\n    if(articulo.p_nuevo === null){\r\n      articulo.p_nuevo = 0;\r\n      articulo.por_nuevo = 0;\r\n    }else{\r\n      articulo.art_modificado =  true;\r\n      articulo.por_nuevo = (((articulo.p_nuevo * 100) / articulo.p_actual) - 100).toFixed(2);\r\n    }\r\n  }\r\n\r\n  recalPrecioNuevo(articulo){\r\n    if(articulo.por_nuevo === null){\r\n      articulo.p_nuevo = 0;\r\n      articulo.por_nuevo = 0;\r\n    }else{\r\n      articulo.art_modificado =  true;\r\n      articulo.p_nuevo = (((articulo.p_actual * articulo.por_nuevo) / 100) + articulo.p_actual).toFixed(2);\r\n      console.log('articulo.p_nuevo', articulo.p_nuevo);\r\n    }\r\n  }\r\n\r\n  guardar(){\r\n    let errorFecha = false;\r\n    for(let i in this.articulos){\r\n      if(this.articulos[i].art_modificado){\r\n\r\n        let hh = parseInt(this.articulos[i].p_nuevo_desde_time.substring(0, 2));\r\n        let mm = parseInt(this.articulos[i].p_nuevo_desde_time.substring(3, 5));\r\n  \r\n        console.log(hh,mm);\r\n  \r\n        if(isNaN(hh) || isNaN(mm)){\r\n          errorFecha = true;\r\n          break;\r\n        }\r\n\r\n        console.log('this.articulos[i].p_nuevo_desde typeof', typeof(this.articulos[i].p_nuevo_desde));\r\n\r\n        if(typeof(this.articulos[i].p_nuevo_desde) === 'object'){\r\n          this.articulos[i].p_nuevo_desde = this.utilService.dateToStringFormat(this.articulos[i].p_nuevo_desde);\r\n        }\r\n  \r\n        if((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getFullYear()) < (this.fechaActual.getFullYear())){\r\n          errorFecha = true;\r\n          break;\r\n        }else if(((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getMonth()) < (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getFullYear()) <= (this.fechaActual.getFullYear())) ){\r\n          errorFecha = true;\r\n          break;\r\n        }\r\n        else if(((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getDate()) < (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getFullYear()) <= (this.fechaActual.getFullYear()))){\r\n          errorFecha = true;\r\n          break;\r\n        }\r\n        else if((hh < this.fechaActual.getHours()) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getDate()) <= (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getFullYear()) <= (this.fechaActual.getFullYear()))){\r\n          errorFecha = true;\r\n          break;\r\n        }\r\n        else if((mm < this.fechaActual.getMinutes()) && (hh <= this.fechaActual.getHours()) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getDate()) <= (this.fechaActual.getDate())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getMonth()) <= (this.fechaActual.getMonth())) && ((this.utilService.formatStringToDate(this.articulos[i].p_nuevo_desde).getFullYear()) <= (this.fechaActual.getFullYear())) ){ \r\n          errorFecha = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log('errorFecha', errorFecha);\r\n\r\n    if(errorFecha){\r\n      swal('Atención', 'Una o más fechas con hora son inferiores a la Fecha y Hora actual', 'warning');\r\n    }\r\n    else{\r\n      //grabar datos\r\n      console.log('grabar');\r\n      let grabaExito = true;\r\n      this.cargador.show();\r\n      for(let i in this.articulos){\r\n        if(this.articulos[i].art_modificado){\r\n          this.requestGuardar.nPrecio = Math.floor(this.articulos[i].p_nuevo);\r\n          this.requestGuardar.nRunUsuarioCrea = this.authService.getDatosUser().nrutoperador;\r\n          this.requestGuardar.sCodFormato = this.articulos[i].art_scodformato;\r\n          this.requestGuardar.sCodVariedad = this.articulos[i].art_scodvariedad;\r\n          this.requestGuardar.sFhoInicioVigencia = (this.articulos[i].p_nuevo_desde).replace(/-/g, '') + (this.articulos[i].p_nuevo_desde_time).replace(':', '') + '00';\r\n          \r\n          console.log('this.requestGuardar',this.requestGuardar)\r\n\r\n          this.administracionComercialService.guardaPrecioArticulo(this.requestGuardar)\r\n          .subscribe((data:any)=>{\r\n            this.cargador.hide();\r\n            console.log('respuesta graba precio', data);\r\n  \r\n            if(data.error.codError !== 0){\r\n              swal('Atención', data.error.msjError, 'error');\r\n              grabaExito = false;\r\n            } \r\n            else{\r\n              this.buscar();\r\n              swal('Atención','Los precios han sido actualizados correctamente', 'success');\r\n            }\r\n          },\r\n          error =>{\r\n            this.cargador.hide();\r\n            swal('Atención', 'Ha ocurrido un error inesperado!', 'error');\r\n            grabaExito = false;\r\n          })\r\n        }\r\n      }\r\n      // this.cargador.hide();\r\n      // if(grabaExito){\r\n      //   swal('Atención','Los precios han sido actualizados correctamente', 'success');\r\n      // }\r\n    }\r\n  }\r\n\r\n  generateExcel(){\r\n\r\n    let headerExcel = [\r\n      \"Línea\", \"Categoría\", \"Agrupación\", \"Prod. Base\", \"Cod. Articulo\", \"Descripción\", \"Medida\",\r\n      \"Precio Base Actual\", \"Desde\"];\r\n    \r\n      let dataExcel = [];\r\n\r\n    for(let i in this.articulos){\r\n      let articulo = [\r\n        this.articulos[i].jli_scodlinea,\r\n        this.articulos[i].jca_scodcategoria,\r\n        this.articulos[i].jag_scodagrupacion,\r\n        this.articulos[i].jpb_scodproductobase,\r\n        `${this.articulos[i].art_scodformato} - ${this.articulos[i].art_scodvariedad}`,\r\n        this.articulos[i].art_sdescripcion,\r\n        this.articulos[i].art_smedida,\r\n        this.articulos[i].p_actual,\r\n        this.utilService.dateStringServiceToStringFormatFull(this.articulos[i].p_actual_desde)\r\n      ]\r\n      dataExcel.push(articulo);\r\n    }\r\n\r\n    let fechaExcel = this.utilService.dateToLocalStringFormat(this.fechaActual);\r\n    let titulo = `Articulos_${this.utilService.dateToStringDateFullFormat(new Date())}00`;\r\n\r\n    this.excelService.generateExcel(titulo, headerExcel, dataExcel, fechaExcel);\r\n    swal('Perfecto', 'Su reporte ha sido generado con exito!', 'success');\r\n    this.exportar = false;\r\n\r\n  }\r\n}"],"sourceRoot":""}